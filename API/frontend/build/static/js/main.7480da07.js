/*! For license information please see main.7480da07.js.LICENSE.txt */
(()=>{"use strict";var t={219:(t,e,i)=>{var n=i(86),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(t){return n.isMemo(t)?o:a[t.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=o;var l=Object.defineProperty,h=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(f){var r=p(i);r&&r!==f&&t(e,r,n)}var o=h(i);u&&(o=o.concat(u(i)));for(var a=c(e),y=c(i),b=0;b<o.length;++b){var g=o[b];if(!s[g]&&(!n||!n[g])&&(!y||!y[g])&&(!a||!a[g])){var m=d(i,g);try{l(e,g,m)}catch(_){}}}}return e}},123:t=>{var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))i.call(s,l)&&(a[l]=s[l]);if(e){o=e(s);for(var h=0;h<o.length;h++)n.call(s,o[h])&&(a[o[h]]=s[o[h]])}}return a}},82:(t,e)=>{var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,b=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.block"):60121,m=i?Symbol.for("react.fundamental"):60117,_=i?Symbol.for("react.responder"):60118,v=i?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case h:case u:case s:case a:case o:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case b:case y:case c:return t;default:return e}}case r:return e}}}function S(t){return w(t)===u}e.AsyncMode=h,e.ConcurrentMode=u,e.ContextConsumer=l,e.ContextProvider=c,e.Element=n,e.ForwardRef=d,e.Fragment=s,e.Lazy=b,e.Memo=y,e.Portal=r,e.Profiler=a,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||w(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===s},e.isLazy=function(t){return w(t)===b},e.isMemo=function(t){return w(t)===y},e.isPortal=function(t){return w(t)===r},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===u||t===a||t===o||t===p||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===b||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===m||t.$$typeof===_||t.$$typeof===v||t.$$typeof===g)},e.typeOf=w},86:(t,e,i)=>{t.exports=i(82)},202:(t,e,i)=>{var n=i(123),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,h=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,b="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function v(t,e,i){this.props=t,this.context=e,this.refs=_,this.updater=i||m}function w(){}function S(t,e,i){this.props=t,this.context=e,this.refs=_,this.updater=i||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=v.prototype;var I=S.prototype=new w;I.constructor=S,n(I,v.prototype),I.isPureReactComponent=!0;var B={current:null},A=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,i){var n,r={},o=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)A.call(e,n)&&!T.hasOwnProperty(n)&&(r[n]=e[n]);var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){for(var l=Array(c),h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}if(t&&t.defaultProps)for(n in c=t.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:B.current}}function D(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var x=/\/+/g,M=[];function F(t,e,i,n){if(M.length){var r=M.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function C(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case s:case o:a=!0}}if(a)return i(n,t,""===e?"."+k(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=e+k(r=t[c],c);a+=C(r,l,i,n)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=b&&t[b]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(r=t.next()).done;)a+=C(r=r.value,l=e+k(r,c++),i,n);else if("object"===r)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return a}function U(t,e,i){return null==t?0:C(t,"",e,i)}function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function E(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,n,i,(function(t){return t})):null!=t&&(D(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(x,"$&/")+"/")+i)),n.push(t))}function R(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(x,"$&/")+"/"),U(t,E,e=F(e,s,n,r)),N(e)}var z={current:null};function P(){var t=z.current;if(null===t)throw Error(g(321));return t}var j={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:B,IsSomeRendererActing:{current:!1},assign:n};e.PureComponent=S},43:(t,e,i)=>{t.exports=i(202)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}(()=>{i(219);var t,e,n,r,s,o,a,c,l,h=i(43);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(t||(t={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e||(e={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(n||(n={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(r||(r={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(s||(s={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(o||(o={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(c||(c={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(l||(l={}));const[u,d]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[p,f]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[y,b]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),g=t=>"number"===typeof t,m=t=>"boolean"===typeof t,_=t=>"function"===typeof t,v=t=>null!=t&&Object(t)===t,w=t=>v(t)&&_(t.then),S=t=>v(t)&&_(t[Symbol.iterator]),I=t=>v(t)&&_(t[Symbol.asyncIterator]),B=t=>v(t)&&v(t.schema),A=t=>v(t)&&"done"in t&&"value"in t,T=t=>v(t)&&_(t.stat)&&g(t.fd),O=t=>v(t)&&x(t.body),D=t=>"_getDOMStream"in t&&"_getNodeStream"in t,x=t=>v(t)&&_(t.cancel)&&_(t.getReader)&&!D(t),M=t=>v(t)&&_(t.read)&&_(t.pipe)&&m(t.readable)&&!D(t),F=t=>v(t)&&_(t.clear)&&_(t.bytes)&&_(t.position)&&_(t.setPosition)&&_(t.capacity)&&_(t.getBufferIdentifier)&&_(t.createLong);function N(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?"[".concat(t instanceof p||t instanceof y?[...t].map((t=>N(t))):t,"]"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t,((t,e)=>"bigint"===typeof e?"".concat(e):e))}function C(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{c(n.next(t))}catch(bo){s(bo)}}function a(t){try{c(n.throw(t))}catch(bo){s(bo)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}Object.create;function U(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(t){return this instanceof k?(this.v=t,this):new k(t)}function L(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return",(function(t){return function(e){return Promise.resolve(e).then(t,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(t,e){r[t]&&(n[t]=function(e){return new Promise((function(i,n){s.push([t,e,i,n])>1||a(t,e)}))},e&&(n[t]=e(n[t])))}function a(t,e){try{(i=r[t](e)).value instanceof k?Promise.resolve(i.value.v).then(c,l):h(s[0][2],i)}catch(bo){h(s[0][3],bo)}var i}function c(t){a("next",t)}function l(t){a("throw",t)}function h(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function E(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:k(t[n](e)),done:!1}:r?r(e):e}:r}}function R(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=U(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,r){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,r,(e=t[i](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const z=new TextDecoder("utf-8"),P=t=>z.decode(t),j=new TextEncoder,V=t=>j.encode(t),H="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function W(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function Y(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,s;for(let o,a,c=0,l=0,h=t.length;++c<h;)o=e[l],a=t[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset?a&&(e[++l]=a):(({byteOffset:i,byteLength:r}=o),({byteOffset:n,byteLength:s}=a),i+r<n||n+s<i?a&&(e[++l]=a):e[l]=new Uint8Array(o.buffer,i,n-i+s));return e}(t),n=i.reduce(((t,e)=>t+e.byteLength),0);let r,s,o,a=0,c=-1;const l=Math.min(e||Number.POSITIVE_INFINITY,n);for(const h=i.length;++c<h;){if(r=i[c],s=r.subarray(0,Math.min(r.length,l-a)),l<=a+s.length){s.length<r.length?i[c]=r.subarray(s.length):s.length===r.length&&c++,o?W(o,s,a):o=s;break}W(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),i.slice(c),n-(o?o.byteLength:0)]}function K(t,e){let i=A(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=V(i)),i instanceof ArrayBuffer||i instanceof H?new t(i):F(i)?K(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const $=t=>K(Int32Array,t),J=t=>K(Uint8Array,t),X=t=>(t.next(),t);function*q(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):S(e)?e:i(e);return yield*X(function*(e){let i=null;do{i=e.next(yield K(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function G(t,e){return L(this,arguments,(function*(){if(w(e))return yield k(yield k(yield*E(R(G(t,yield k(e))))));const i=function(t){return L(this,arguments,(function*(){yield yield k(yield k(t))}))},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):S(e)?function(t){return L(this,arguments,(function*(){yield k(yield*E(R(X(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):I(e)?e:i(e);return yield k(yield*E(R(X(function(e){return L(this,arguments,(function*(){let i=null;do{i=yield k(e.next(yield yield k(K(t,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield k(new t)}))}function Z(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const Q=Symbol.for("isArrowBigNum");function tt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(K(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function et(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return tt.apply(this,e)}function it(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return tt.apply(this,e)}function nt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return tt.apply(this,e)}function rt(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new y(e,i,n),o=r&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=o?BigInt(1):BigInt(0),c=BigInt(0);if(o){for(const t of s)a+=~t*(BigInt(1)<<BigInt(32)*c++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*c++);return a}let st,ot;function at(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}tt.prototype[Q]=!0,tt.prototype.toJSON=function(){return'"'.concat(st(this),'"')},tt.prototype.valueOf=function(){return rt(this)},tt.prototype.toString=function(){return st(this)},tt.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return rt(this);case"string":return st(this);case"default":return ot(this)}return st(this)},Object.setPrototypeOf(et.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(it.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(nt.prototype,Object.create(Uint32Array.prototype)),Object.assign(et.prototype,tt.prototype,{constructor:et,signed:!0,TypedArray:Int32Array,BigIntArray:p}),Object.assign(it.prototype,tt.prototype,{constructor:it,signed:!1,TypedArray:Uint32Array,BigIntArray:y}),Object.assign(nt.prototype,tt.prototype,{constructor:nt,signed:!0,TypedArray:Uint32Array,BigIntArray:y}),d?(ot=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:at(t),st=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):at(t)):(st=at,ot=st);class ct{static new(t,e){switch(e){case!0:return new et(t);case!1:return new it(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case p:return new et(t)}return 16===t.byteLength?new nt(t):new it(t)}static signed(t){return new et(t)}static unsigned(t){return new it(t)}static decimal(t){return new nt(t)}constructor(t,e){return ct.new(t,e)}}var lt,ht,ut,dt,pt,ft,yt,bt,gt,mt,_t,vt,wt,St,It,Bt,At,Tt,Ot,Dt;class xt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===c.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===c.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===c.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===c.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===c.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===c.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===c.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===c.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===c.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===c.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===c.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===c.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===c.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===c.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===c.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===c.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===c.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===c.Dictionary}static isDenseUnion(t){return xt.isUnion(t)&&t.mode===e.Dense}static isSparseUnion(t){return xt.isUnion(t)&&t.mode===e.Sparse}get typeId(){return c.NONE}}lt=Symbol.toStringTag,xt[lt]=((Dt=xt.prototype).children=null,Dt.ArrayType=Array,Dt[Symbol.toStringTag]="DataType");class Mt extends xt{toString(){return"Null"}get typeId(){return c.Null}}ht=Symbol.toStringTag,Mt[ht]=(t=>t[Symbol.toStringTag]="Null")(Mt.prototype);class Ft extends xt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return c.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?p:y}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}ut=Symbol.toStringTag,Ft[ut]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Ft.prototype);class Nt extends Ft{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Ft{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Ft{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Nt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Ft{constructor(){super(!0,64)}get ArrayType(){return p}}.prototype,"ArrayType",{value:p}),Object.defineProperty(class extends Ft{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,64)}get ArrayType(){return y}}.prototype,"ArrayType",{value:y});class Ct extends xt{constructor(t){super(),this.precision=t}get typeId(){return c.Float}get ArrayType(){switch(this.precision){case n.HALF:return Uint16Array;case n.SINGLE:return Float32Array;case n.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}dt=Symbol.toStringTag,Ct[dt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Ct.prototype);Object.defineProperty(class extends Ct{constructor(){super(n.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Ct{constructor(){super(n.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Ct{constructor(){super(n.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class Ut extends xt{constructor(){super()}get typeId(){return c.Binary}toString(){return"Binary"}}pt=Symbol.toStringTag,Ut[pt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Ut.prototype);class kt extends xt{constructor(){super()}get typeId(){return c.Utf8}toString(){return"Utf8"}}ft=Symbol.toStringTag,kt[ft]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(kt.prototype);class Lt extends xt{constructor(){super()}get typeId(){return c.Bool}toString(){return"Bool"}}yt=Symbol.toStringTag,Lt[yt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Lt.prototype);class Et extends xt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return c.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}bt=Symbol.toStringTag,Et[bt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Et.prototype);class Rt extends xt{constructor(t){super(),this.unit=t}get typeId(){return c.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(r[this.unit],">")}}gt=Symbol.toStringTag,Rt[gt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Rt.prototype);class zt extends xt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return c.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(s[this.unit],">")}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return p}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}mt=Symbol.toStringTag,zt[mt]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(zt.prototype);class Pt extends xt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return c.Timestamp}toString(){return"Timestamp<".concat(s[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}_t=Symbol.toStringTag,Pt[_t]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Pt.prototype);class jt extends xt{constructor(t){super(),this.unit=t}get typeId(){return c.Interval}toString(){return"Interval<".concat(o[this.unit],">")}}vt=Symbol.toStringTag,jt[vt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(jt.prototype);class Vt extends xt{constructor(t){super(),this.children=[t]}get typeId(){return c.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}wt=Symbol.toStringTag,Vt[wt]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Vt.prototype);class Ht extends xt{constructor(t){super(),this.children=t}get typeId(){return c.Struct}toString(){return"Struct<{".concat(this.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}St=Symbol.toStringTag,Ht[St]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Ht.prototype);class Wt extends xt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return c.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((t=>"".concat(t.type))).join(" | "),">")}}It=Symbol.toStringTag,Wt[It]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Wt.prototype);class Yt extends xt{constructor(t){super(),this.byteWidth=t}get typeId(){return c.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}Bt=Symbol.toStringTag,Yt[Bt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Yt.prototype);class Kt extends xt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return c.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}At=Symbol.toStringTag,Kt[At]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Kt.prototype);class $t extends xt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return c.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return"Map<{".concat(this.children[0].type.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}Tt=Symbol.toStringTag,$t[Tt]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))($t.prototype);const Jt=(Xt=-1,()=>++Xt);var Xt;class qt extends xt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Jt():"number"===typeof i?i:i.low}get typeId(){return c.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function Gt(t){const e=t;switch(t.typeId){case c.Decimal:return t.bitWidth/32;case c.Timestamp:return 2;case c.Date:case c.Interval:return 1+e.unit;case c.FixedSizeList:return e.listSize;case c.FixedSizeBinary:return e.byteWidth;default:return 1}}Ot=Symbol.toStringTag,qt[Ot]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(qt.prototype);class Zt{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return Qt(t,e,i);if("string"===typeof e&&e in c)return Qt(t,c[e],i);if(e&&e instanceof xt)return Qt(t,te(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof xt)return Qt(t,te(e.type),i);return Qt(t,c.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return Qt(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function Qt(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case c.Null:n=t.visitNull;break;case c.Bool:n=t.visitBool;break;case c.Int:n=t.visitInt;break;case c.Int8:n=t.visitInt8||t.visitInt;break;case c.Int16:n=t.visitInt16||t.visitInt;break;case c.Int32:n=t.visitInt32||t.visitInt;break;case c.Int64:n=t.visitInt64||t.visitInt;break;case c.Uint8:n=t.visitUint8||t.visitInt;break;case c.Uint16:n=t.visitUint16||t.visitInt;break;case c.Uint32:n=t.visitUint32||t.visitInt;break;case c.Uint64:n=t.visitUint64||t.visitInt;break;case c.Float:n=t.visitFloat;break;case c.Float16:n=t.visitFloat16||t.visitFloat;break;case c.Float32:n=t.visitFloat32||t.visitFloat;break;case c.Float64:n=t.visitFloat64||t.visitFloat;break;case c.Utf8:n=t.visitUtf8;break;case c.Binary:n=t.visitBinary;break;case c.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case c.Date:n=t.visitDate;break;case c.DateDay:n=t.visitDateDay||t.visitDate;break;case c.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case c.Timestamp:n=t.visitTimestamp;break;case c.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case c.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case c.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case c.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case c.Time:n=t.visitTime;break;case c.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case c.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case c.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case c.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case c.Decimal:n=t.visitDecimal;break;case c.List:n=t.visitList;break;case c.Struct:n=t.visitStruct;break;case c.Union:n=t.visitUnion;break;case c.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case c.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case c.Dictionary:n=t.visitDictionary;break;case c.Interval:n=t.visitInterval;break;case c.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case c.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case c.FixedSizeList:n=t.visitFixedSizeList;break;case c.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(c[e],"'"))}function te(t){switch(t.typeId){case c.Null:return c.Null;case c.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?c.Int8:c.Uint8;case 16:return i?c.Int16:c.Uint16;case 32:return i?c.Int32:c.Uint32;case 64:return i?c.Int64:c.Uint64}return c.Int}case c.Float:switch(t.precision){case n.HALF:return c.Float16;case n.SINGLE:return c.Float32;case n.DOUBLE:return c.Float64}return c.Float;case c.Binary:return c.Binary;case c.Utf8:return c.Utf8;case c.Bool:return c.Bool;case c.Decimal:return c.Decimal;case c.Time:switch(t.unit){case s.SECOND:return c.TimeSecond;case s.MILLISECOND:return c.TimeMillisecond;case s.MICROSECOND:return c.TimeMicrosecond;case s.NANOSECOND:return c.TimeNanosecond}return c.Time;case c.Timestamp:switch(t.unit){case s.SECOND:return c.TimestampSecond;case s.MILLISECOND:return c.TimestampMillisecond;case s.MICROSECOND:return c.TimestampMicrosecond;case s.NANOSECOND:return c.TimestampNanosecond}return c.Timestamp;case c.Date:switch(t.unit){case r.DAY:return c.DateDay;case r.MILLISECOND:return c.DateMillisecond}return c.Date;case c.Interval:switch(t.unit){case o.DAY_TIME:return c.IntervalDayTime;case o.YEAR_MONTH:return c.IntervalYearMonth}return c.Interval;case c.Map:return c.Map;case c.List:return c.List;case c.Struct:return c.Struct;case c.Union:switch(t.mode){case e.Dense:return c.DenseUnion;case e.Sparse:return c.SparseUnion}return c.Union;case c.FixedSizeBinary:return c.FixedSizeBinary;case c.FixedSizeList:return c.FixedSizeList;case c.Dictionary:return c.Dictionary}throw new Error("Unrecognized type '".concat(c[t.typeId],"'"))}Zt.prototype.visitInt8=null,Zt.prototype.visitInt16=null,Zt.prototype.visitInt32=null,Zt.prototype.visitInt64=null,Zt.prototype.visitUint8=null,Zt.prototype.visitUint16=null,Zt.prototype.visitUint32=null,Zt.prototype.visitUint64=null,Zt.prototype.visitFloat16=null,Zt.prototype.visitFloat32=null,Zt.prototype.visitFloat64=null,Zt.prototype.visitDateDay=null,Zt.prototype.visitDateMillisecond=null,Zt.prototype.visitTimestampSecond=null,Zt.prototype.visitTimestampMillisecond=null,Zt.prototype.visitTimestampMicrosecond=null,Zt.prototype.visitTimestampNanosecond=null,Zt.prototype.visitTimeSecond=null,Zt.prototype.visitTimeMillisecond=null,Zt.prototype.visitTimeMicrosecond=null,Zt.prototype.visitTimeNanosecond=null,Zt.prototype.visitDenseUnion=null,Zt.prototype.visitSparseUnion=null,Zt.prototype.visitIntervalDayTime=null,Zt.prototype.visitIntervalYearMonth=null;const ee=new Float64Array(1),ie=new Uint32Array(ee.buffer);function ne(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class re extends Zt{}function se(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const oe=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},ae=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:s}=e;t.set(n.subarray(0,s-r),r)}},ce=(t,e,i)=>{let{values:n}=t;n[e]=i},le=(t,e,i)=>{let{values:n}=t;n[e]=i},he=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;ee[0]=t;const e=(2147483648&ie[1])>>16&65535;let i=2146435072&ie[1],n=0;return i>=1089470464?ie[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&ie[1])>>10):i<=1056964608?(n=1048576+(1048575&ie[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&ie[1])>>10),e|i|65535&n}(i)},ue=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},de=(t,e,i)=>{let{values:n}=t;oe(n,2*e,i.valueOf())},pe=(t,e,i)=>{let{values:n}=t;return oe(n,2*e,i/1e3)},fe=(t,e,i)=>{let{values:n}=t;return oe(n,2*e,i)},ye=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},be=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},ge=(t,e,i)=>{let{values:n}=t;n[e]=i},me=(t,e,i)=>{let{values:n}=t;n[e]=i},_e=(t,e,i)=>{let{values:n}=t;n[e]=i},ve=(t,e,i)=>{let{values:n}=t;n[e]=i},we=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ae.visit(r,t.valueOffsets[e],i)},Se=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ae.visit(r,e,i)},Ie=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Be=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};re.prototype.visitBool=se(((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)})),re.prototype.visitInt=se(ce),re.prototype.visitInt8=se(ce),re.prototype.visitInt16=se(ce),re.prototype.visitInt32=se(ce),re.prototype.visitInt64=se(ce),re.prototype.visitUint8=se(ce),re.prototype.visitUint16=se(ce),re.prototype.visitUint32=se(ce),re.prototype.visitUint64=se(ce),re.prototype.visitFloat=se(((t,e,i)=>{switch(t.type.precision){case n.HALF:return he(t,e,i);case n.SINGLE:case n.DOUBLE:return le(t,e,i)}})),re.prototype.visitFloat16=se(he),re.prototype.visitFloat32=se(le),re.prototype.visitFloat64=se(le),re.prototype.visitUtf8=se(((t,e,i)=>{let{values:n,valueOffsets:r}=t;ae(n,r,e,V(i))})),re.prototype.visitBinary=se(((t,e,i)=>{let{values:n,valueOffsets:r}=t;return ae(n,r,e,i)})),re.prototype.visitFixedSizeBinary=se(((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)})),re.prototype.visitDate=se(((t,e,i)=>{t.type.unit===r.DAY?ue(t,e,i):de(t,e,i)})),re.prototype.visitDateDay=se(ue),re.prototype.visitDateMillisecond=se(de),re.prototype.visitTimestamp=se(((t,e,i)=>{switch(t.type.unit){case s.SECOND:return pe(t,e,i);case s.MILLISECOND:return fe(t,e,i);case s.MICROSECOND:return ye(t,e,i);case s.NANOSECOND:return be(t,e,i)}})),re.prototype.visitTimestampSecond=se(pe),re.prototype.visitTimestampMillisecond=se(fe),re.prototype.visitTimestampMicrosecond=se(ye),re.prototype.visitTimestampNanosecond=se(be),re.prototype.visitTime=se(((t,e,i)=>{switch(t.type.unit){case s.SECOND:return ge(t,e,i);case s.MILLISECOND:return me(t,e,i);case s.MICROSECOND:return _e(t,e,i);case s.NANOSECOND:return ve(t,e,i)}})),re.prototype.visitTimeSecond=se(ge),re.prototype.visitTimeMillisecond=se(me),re.prototype.visitTimeMicrosecond=se(_e),re.prototype.visitTimeNanosecond=se(ve),re.prototype.visitDecimal=se(((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)})),re.prototype.visitList=se(((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=Ae.getVisitFn(n);if(Array.isArray(i))for(let o=-1,a=r[e],c=r[e+1];a<c;)s(n,a++,i[++o]);else for(let o=-1,a=r[e],c=r[e+1];a<c;)s(n,a++,i.get(++o))})),re.prototype.visitStruct=se(((t,e,i)=>{const n=t.type.children.map((t=>Ae.getVisitFn(t.type))),r=i instanceof Map?(s=e,o=i,(t,e,i,n)=>e&&t(e,s,o.get(i.name))):i instanceof Vi?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);var s,o;t.type.children.forEach(((e,i)=>r(n[i],t.children[i],e,i)))})),re.prototype.visitUnion=se(((t,i,n)=>{t.type.mode===e.Dense?we(t,i,n):Se(t,i,n)})),re.prototype.visitDenseUnion=se(we),re.prototype.visitSparseUnion=se(Se),re.prototype.visitDictionary=se(((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)})),re.prototype.visitInterval=se(((t,e,i)=>{t.type.unit===o.DAY_TIME?Ie(t,e,i):Be(t,e,i)})),re.prototype.visitIntervalDayTime=se(Ie),re.prototype.visitIntervalYearMonth=se(Be),re.prototype.visitFixedSizeList=se(((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=Ae.getVisitFn(r);if(Array.isArray(i))for(let o=-1,a=e*n;++o<n;)s(r,a+o,i[o]);else for(let o=-1,a=e*n;++o<n;)s(r,a+o,i.get(o))})),re.prototype.visitMap=se(((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,s=Ae.getVisitFn(n);let{[e]:o,[e+1]:a}=r;const c=i instanceof Map?i.entries():Object.entries(i);for(const l of c)if(s(n,o,l),++o>=a)break}));const Ae=new re,Te=Symbol.for("parent"),Oe=Symbol.for("rowIndex");class De{constructor(t,e){return this[Te]=t,this[Oe]=e,new Proxy(this,new Me)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Oe],e=this[Te],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=Ze.visit(e.children[r],t);return n}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(N(e),": ").concat(N(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new xe(this[Te],this[Oe])}}class xe{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ze.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(De.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Te]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Oe]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Me{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Te].type.children.map((t=>t.name))}has(t,e){return-1!==t[Te].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Te].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Te].type.children.findIndex((t=>t.name===e));if(-1!==i){const n=Ze.visit(t[Te].children[i],t[Oe]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Te].type.children.findIndex((t=>t.name===e));return-1!==n?(Ae.visit(t[Te].children[n],t[Oe],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class Fe extends Zt{}function Ne(t){return(e,i)=>e.getValid(i)?t(e,i):null}const Ce=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Ue=t=>new Date(t),ke=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Le=(t,e)=>{let{values:i}=t;return((t,e)=>Ue(((t,e)=>864e5*t[e])(t,e)))(i,e)},Ee=(t,e)=>{let{values:i}=t;return((t,e)=>Ue(Ce(t,e)))(i,2*e)},Re=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},ze=(t,e)=>{let{values:i}=t;return i[e]},Pe=(t,e)=>{let{values:i}=t;return 1e3*Ce(i,2*e)},je=(t,e)=>{let{values:i}=t;return Ce(i,2*e)},Ve=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},He=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},We=(t,e)=>{let{values:i}=t;return i[e]},Ye=(t,e)=>{let{values:i}=t;return i[e]},Ke=(t,e)=>{let{values:i}=t;return i[e]},$e=(t,e)=>{let{values:i}=t;return i[e]},Je=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return Ze.visit(n,t.valueOffsets[e])},Xe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return Ze.visit(n,e)},qe=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},Ge=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Fe.prototype.visitNull=Ne(((t,e)=>null)),Fe.prototype.visitBool=Ne(((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)})),Fe.prototype.visitInt=Ne(((t,e)=>{let{values:i}=t;return i[e]})),Fe.prototype.visitInt8=Ne(Re),Fe.prototype.visitInt16=Ne(Re),Fe.prototype.visitInt32=Ne(Re),Fe.prototype.visitInt64=Ne(ze),Fe.prototype.visitUint8=Ne(Re),Fe.prototype.visitUint16=Ne(Re),Fe.prototype.visitUint32=Ne(Re),Fe.prototype.visitUint64=Ne(ze),Fe.prototype.visitFloat=Ne(((t,e)=>{let{type:i,values:r}=t;return i.precision!==n.HALF?r[e]:ne(r[e])})),Fe.prototype.visitFloat16=Ne(((t,e)=>{let{stride:i,values:n}=t;return ne(n[i*e])})),Fe.prototype.visitFloat32=Ne(Re),Fe.prototype.visitFloat64=Ne(Re),Fe.prototype.visitUtf8=Ne(((t,e)=>{let{values:i,valueOffsets:n}=t;const r=ke(i,n,e);return null!==r?P(r):null})),Fe.prototype.visitBinary=Ne(((t,e)=>{let{values:i,valueOffsets:n}=t;return ke(i,n,e)})),Fe.prototype.visitFixedSizeBinary=Ne(((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))})),Fe.prototype.visitDate=Ne(((t,e)=>t.type.unit===r.DAY?Le(t,e):Ee(t,e))),Fe.prototype.visitDateDay=Ne(Le),Fe.prototype.visitDateMillisecond=Ne(Ee),Fe.prototype.visitTimestamp=Ne(((t,e)=>{switch(t.type.unit){case s.SECOND:return Pe(t,e);case s.MILLISECOND:return je(t,e);case s.MICROSECOND:return Ve(t,e);case s.NANOSECOND:return He(t,e)}})),Fe.prototype.visitTimestampSecond=Ne(Pe),Fe.prototype.visitTimestampMillisecond=Ne(je),Fe.prototype.visitTimestampMicrosecond=Ne(Ve),Fe.prototype.visitTimestampNanosecond=Ne(He),Fe.prototype.visitTime=Ne(((t,e)=>{switch(t.type.unit){case s.SECOND:return We(t,e);case s.MILLISECOND:return Ye(t,e);case s.MICROSECOND:return Ke(t,e);case s.NANOSECOND:return $e(t,e)}})),Fe.prototype.visitTimeSecond=Ne(We),Fe.prototype.visitTimeMillisecond=Ne(Ye),Fe.prototype.visitTimeMicrosecond=Ne(Ke),Fe.prototype.visitTimeNanosecond=Ne($e),Fe.prototype.visitDecimal=Ne(((t,e)=>{let{values:i,stride:n}=t;return ct.decimal(i.subarray(n*e,n*(e+1)))})),Fe.prototype.visitList=Ne(((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:s,[e*n+1]:o}=i,a=r[0].slice(s,o-s);return new Vi([a])})),Fe.prototype.visitStruct=Ne(((t,e)=>new De(t,e))),Fe.prototype.visitUnion=Ne(((t,i)=>t.type.mode===e.Dense?Je(t,i):Xe(t,i))),Fe.prototype.visitDenseUnion=Ne(Je),Fe.prototype.visitSparseUnion=Ne(Xe),Fe.prototype.visitDictionary=Ne(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),Fe.prototype.visitInterval=Ne(((t,e)=>t.type.unit===o.DAY_TIME?qe(t,e):Ge(t,e))),Fe.prototype.visitIntervalDayTime=Ne(qe),Fe.prototype.visitIntervalYearMonth=Ne(Ge),Fe.prototype.visitFixedSizeList=Ne(((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Vi([r])})),Fe.prototype.visitMap=Ne(((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:s}=i,o=n[0];return new ei(o.slice(r,s-r))}));const Ze=new Fe,Qe=Symbol.for("keys"),ti=Symbol.for("vals");class ei{constructor(t){return this[Qe]=new Vi([t.children[0]]).memoize(),this[ti]=t.children[1],new Proxy(this,new ni)}[Symbol.iterator](){return new ii(this[Qe],this[ti])}get size(){return this[Qe].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Qe],e=this[ti],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=Ze.visit(e,n);return i}toString(){return"{".concat([...this].map((t=>{let[e,i]=t;return"".concat(N(e),": ").concat(N(i))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class ii{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ze.visit(this.vals,t)]})}}class ni{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Qe].toArray().map(String)}has(t,e){return t[Qe].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[Qe].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Qe].indexOf(e);if(-1!==i){const n=Ze.visit(Reflect.get(t,ti),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Qe].indexOf(e);return-1!==n?(Ae.visit(Reflect.get(t,ti),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let ri;function si(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(ri=s,s=o,o=ri),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(ei.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Qe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ti]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const oi=t=>t!==t;function ai(t){if("object"!==typeof t||null===t)return oi(t)?oi:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=ai(n);return ci(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ai(t[i]);return ci(e)}(t):t instanceof Vi?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ai(t.get(i));return ci(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=ai(t[i[r]]);return ci(n,i)}(t,!0)}function ci(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return li(t,i,i.keys());case ei:case De:case Object:case void 0:return li(t,i,e||Object.keys(i))}return i instanceof Vi&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function li(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let c=s.next(),l=n.next(),h=r.next();for(;o<a&&!l.done&&!h.done&&!c.done&&(l.value===h.value&&t[o](c.value));++o,l=n.next(),h=r.next(),c=s.next());return!!(o===a&&l.done&&h.done&&c.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class hi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function ui(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function di(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function pi(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],a=e[s],{length:c}=o;if(a>=n)break;if(i>=a+c)continue;if(a>=i&&a+c<=n){r.push(o);continue}const l=Math.max(0,i-a),h=Math.min(n-a,c);r.push(o.slice(l,h-l))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function fi(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function yi(t,e){return t.getValid(e)}function bi(t){function e(e,i,n){return t(e[i],n)}return function(t){return fi(this.data,this._offsets,t,e)}}function gi(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=fi(r,this._offsets,t,i);return e=void 0,s}}function mi(t){let e;function i(i,n,r){let s=r,o=0,a=0;for(let c=n-1,l=i.length;++c<l;){const n=i[c];if(~(o=t(n,e,s)))return a+o;s=0,a+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):fi(r,this._offsets,n,i);return e=void 0,s}}function _i(t,e,i,n){return 0!==(i&1<<n)}function vi(t,e,i,n){return(i&1<<n)>>n}function wi(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Si(new Ii(i,t,e,null,_i)).subarray(0,n)),r}return i}function Si(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Ii{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Bi(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new Ii(t,e,i-e,t,vi))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return Bi(t,e,r)+Bi(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=Ai(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=Ai(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=Ai(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function Ai(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Ti extends Zt{}function Oi(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new Ii(i,t.offset+(e||0),t.length,i,_i)){if(!r)return n;++n}return-1}(t,i);const n=Ze.getVisitFn(t),r=ai(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function Di(t,e,i){const n=Ze.getVisitFn(t),r=ai(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}Ti.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Ti.prototype.visitBool=Oi,Ti.prototype.visitInt=Oi,Ti.prototype.visitInt8=Oi,Ti.prototype.visitInt16=Oi,Ti.prototype.visitInt32=Oi,Ti.prototype.visitInt64=Oi,Ti.prototype.visitUint8=Oi,Ti.prototype.visitUint16=Oi,Ti.prototype.visitUint32=Oi,Ti.prototype.visitUint64=Oi,Ti.prototype.visitFloat=Oi,Ti.prototype.visitFloat16=Oi,Ti.prototype.visitFloat32=Oi,Ti.prototype.visitFloat64=Oi,Ti.prototype.visitUtf8=Oi,Ti.prototype.visitBinary=Oi,Ti.prototype.visitFixedSizeBinary=Oi,Ti.prototype.visitDate=Oi,Ti.prototype.visitDateDay=Oi,Ti.prototype.visitDateMillisecond=Oi,Ti.prototype.visitTimestamp=Oi,Ti.prototype.visitTimestampSecond=Oi,Ti.prototype.visitTimestampMillisecond=Oi,Ti.prototype.visitTimestampMicrosecond=Oi,Ti.prototype.visitTimestampNanosecond=Oi,Ti.prototype.visitTime=Oi,Ti.prototype.visitTimeSecond=Oi,Ti.prototype.visitTimeMillisecond=Oi,Ti.prototype.visitTimeMicrosecond=Oi,Ti.prototype.visitTimeNanosecond=Oi,Ti.prototype.visitDecimal=Oi,Ti.prototype.visitList=Oi,Ti.prototype.visitStruct=Oi,Ti.prototype.visitUnion=Oi,Ti.prototype.visitDenseUnion=Di,Ti.prototype.visitSparseUnion=Di,Ti.prototype.visitDictionary=Oi,Ti.prototype.visitInterval=Oi,Ti.prototype.visitIntervalDayTime=Oi,Ti.prototype.visitIntervalYearMonth=Oi,Ti.prototype.visitFixedSizeList=Oi,Ti.prototype.visitMap=Oi;const xi=new Ti;class Mi extends Zt{}function Fi(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===c.Timestamp||e instanceof Ft&&64!==e.bitWidth||e instanceof zt&&64!==e.bitWidth||e instanceof Ct&&e.precision!==n.HALF))return new hi(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new hi(t.data.length,(e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Ni(r)}))}class Ni{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Mi.prototype.visitNull=Fi,Mi.prototype.visitBool=Fi,Mi.prototype.visitInt=Fi,Mi.prototype.visitInt8=Fi,Mi.prototype.visitInt16=Fi,Mi.prototype.visitInt32=Fi,Mi.prototype.visitInt64=Fi,Mi.prototype.visitUint8=Fi,Mi.prototype.visitUint16=Fi,Mi.prototype.visitUint32=Fi,Mi.prototype.visitUint64=Fi,Mi.prototype.visitFloat=Fi,Mi.prototype.visitFloat16=Fi,Mi.prototype.visitFloat32=Fi,Mi.prototype.visitFloat64=Fi,Mi.prototype.visitUtf8=Fi,Mi.prototype.visitBinary=Fi,Mi.prototype.visitFixedSizeBinary=Fi,Mi.prototype.visitDate=Fi,Mi.prototype.visitDateDay=Fi,Mi.prototype.visitDateMillisecond=Fi,Mi.prototype.visitTimestamp=Fi,Mi.prototype.visitTimestampSecond=Fi,Mi.prototype.visitTimestampMillisecond=Fi,Mi.prototype.visitTimestampMicrosecond=Fi,Mi.prototype.visitTimestampNanosecond=Fi,Mi.prototype.visitTime=Fi,Mi.prototype.visitTimeSecond=Fi,Mi.prototype.visitTimeMillisecond=Fi,Mi.prototype.visitTimeMicrosecond=Fi,Mi.prototype.visitTimeNanosecond=Fi,Mi.prototype.visitDecimal=Fi,Mi.prototype.visitList=Fi,Mi.prototype.visitStruct=Fi,Mi.prototype.visitUnion=Fi,Mi.prototype.visitDenseUnion=Fi,Mi.prototype.visitSparseUnion=Fi,Mi.prototype.visitDictionary=Fi,Mi.prototype.visitInterval=Fi,Mi.prototype.visitIntervalDayTime=Fi,Mi.prototype.visitIntervalYearMonth=Fi,Mi.prototype.visitFixedSizeList=Fi,Mi.prototype.visitMap=Fi;const Ci=new Mi,Ui=(t,e)=>t+e;class ki extends Zt{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===s.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,i)=>t+Ri.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+Ri.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Li=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+Ri.visit(n[o],s[e])},Ei=(t,e)=>{let{children:i}=t;return 4+Ri.visitMany(i,i.map((()=>e))).reduce(Ui,0)};ki.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},ki.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},ki.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:a}=i,c=Ri.getVisitFn(s.type),l=s.slice(o,a-o);let h=8;for(let u=-1,d=a-o;++u<d;)h+=c(l,u);return h},ki.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=Ri.getVisitFn(r.type);let a=0;for(let c=-1,l=s.length;++c<l;)a+=o(s,c);return a},ki.prototype.visitUnion=(t,i)=>t.type.mode===e.Dense?Li(t,i):Ei(t,i),ki.prototype.visitDenseUnion=Li,ki.prototype.visitSparseUnion=Ei;const Ri=new ki;var zi;const Pi={},ji={};class Vi{constructor(t){var e,i,n;const r=t[0]instanceof Vi?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Wi))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=Pi[s.typeId],o=r[0];this.isValid=t=>yi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,ji[s.typeId]),this._offsets=di(r)}this.data=r,this.type=s,this.stride=Gt(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=ui(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}get VectorName(){return"".concat(c[this.type.typeId],"Vector")}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Ci.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Vi(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Vi(si(this,t,e,((t,e,i)=>{let{data:n,_offsets:r}=t;return pi(n,r,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case c.Int:case c.Float:case c.Decimal:case c.Time:case c.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce(((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t}),{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return"[".concat([...this].join(","),"]")}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Vi(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!xt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(xt.isDictionary(this.type)){const t=new Hi(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Vi(e)}return new Hi(this)}unmemoize(){if(xt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Vi(e)}return this}}zi=Symbol.toStringTag,Vi[zi]=(t=>{t.type=xt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(c).map((t=>c[t])).filter((t=>"number"===typeof t&&t!==c.NONE));for(const i of e){const e=Ze.getVisitFnByTypeId(i),n=Ae.getVisitFnByTypeId(i),r=xi.getVisitFnByTypeId(i),s=Ri.getVisitFnByTypeId(i);Pi[i]={get:e,set:n,indexOf:r,byteLength:s},ji[i]=Object.create(t,{isValid:{value:bi(yi)},get:{value:bi(Ze.getVisitFnByTypeId(i))},set:{value:gi(Ae.getVisitFnByTypeId(i))},indexOf:{value:mi(xi.getVisitFnByTypeId(i))},getByteLength:{value:bi(Ri.getVisitFnByTypeId(i))}})}return"Vector"})(Vi.prototype);class Hi extends Vi{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Hi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Vi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Wi{constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Wi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Gt(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Bi(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,s=(n+t)%8,o=i[r]>>s&1;return e?0===o&&(i[r]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[r]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Wi(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,a=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,a,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===c.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(wi(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[l.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[l.TYPE])&&(s[l.TYPE]=r.subarray(t,t+e)),(r=s[l.OFFSET])&&(s[l.OFFSET]=r.subarray(t,t+e+1))||(r=s[l.DATA])&&(s[l.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Wi.prototype.children=Object.freeze([]);class Yi extends Zt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Wi(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=J(t.data),r=J(t.nullBitmap),s=$(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,o,a,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=J(t.data),r=J(t.nullBitmap),s=$(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,o,a,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=J(t.nullBitmap),s=$(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,o,a,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=J(t.nullBitmap),{length:s=n.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=J(t.nullBitmap),s=K(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:a=(t.nullBitmap?-1:0)}=t;if(xt.isSparseUnion(e))return new Wi(e,i,o,a,[void 0,void 0,r,s],n);const c=$(t.valueOffsets);return new Wi(e,i,o,a,[c,void 0,r,s],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.indices.ArrayType,t.data),{dictionary:s=new Vi([(new Yi).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,o,a,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new Yi).visit({type:e.valueType})}=t,r=J(t.nullBitmap),{length:s=n.length/Gt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new Yi).visit({type:e.childType})}=t,r=J(t.nullBitmap),s=$(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Wi(e,i,o,a,[s,void 0,r],[n])}}function Ki(t){return(new Yi).visit(t)}class $i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=qi(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return"Schema<{ ".concat(this.fields.map(((t,e)=>"".concat(e,": ").concat(t))).join(", ")," }>")}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new $i(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new $i(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof $i?e[0]:Array.isArray(e[0])?new $i(e[0]):new $i(e),r=[...this.fields],s=Xi(Xi(new Map,this.metadata),n.metadata),o=n.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:Xi(Xi(new Map,r[e].metadata),t.metadata)}))&&!1})),a=qi(o,new Map);return new $i([...r,...o],s,new Map([...this.dictionaries,...a]))}}$i.prototype.fields=null,$i.prototype.metadata=null,$i.prototype.dictionaries=null;class Ji{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Ji("".concat(n),r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Ji.new(n,r,s,o)}}function Xi(t,e){return new Map([...t||new Map,...e||new Map])}function qi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(xt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&qi(n.children,e)}return e}Ji.prototype.type=null,Ji.prototype.name=null,Ji.prototype.nullable=null,Ji.prototype.metadata=null;class Gi extends Zt{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function Zi(t,e){return e instanceof t.constructor}function Qi(t,e){return t===e||Zi(t,e)}function tn(t,e){return t===e||Zi(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function en(t,e){return t===e||Zi(t,e)&&t.precision===e.precision}function nn(t,e){return t===e||Zi(t,e)&&t.unit===e.unit}function rn(t,e){return t===e||Zi(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function sn(t,e){return t===e||Zi(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function on(t,e){return t===e||Zi(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&cn.compareManyFields(t.children,e.children)}function an(t,e){return t===e||Zi(t,e)&&t.unit===e.unit}Gi.prototype.visitNull=Qi,Gi.prototype.visitBool=Qi,Gi.prototype.visitInt=tn,Gi.prototype.visitInt8=tn,Gi.prototype.visitInt16=tn,Gi.prototype.visitInt32=tn,Gi.prototype.visitInt64=tn,Gi.prototype.visitUint8=tn,Gi.prototype.visitUint16=tn,Gi.prototype.visitUint32=tn,Gi.prototype.visitUint64=tn,Gi.prototype.visitFloat=en,Gi.prototype.visitFloat16=en,Gi.prototype.visitFloat32=en,Gi.prototype.visitFloat64=en,Gi.prototype.visitUtf8=Qi,Gi.prototype.visitBinary=Qi,Gi.prototype.visitFixedSizeBinary=function(t,e){return t===e||Zi(t,e)&&t.byteWidth===e.byteWidth},Gi.prototype.visitDate=nn,Gi.prototype.visitDateDay=nn,Gi.prototype.visitDateMillisecond=nn,Gi.prototype.visitTimestamp=rn,Gi.prototype.visitTimestampSecond=rn,Gi.prototype.visitTimestampMillisecond=rn,Gi.prototype.visitTimestampMicrosecond=rn,Gi.prototype.visitTimestampNanosecond=rn,Gi.prototype.visitTime=sn,Gi.prototype.visitTimeSecond=sn,Gi.prototype.visitTimeMillisecond=sn,Gi.prototype.visitTimeMicrosecond=sn,Gi.prototype.visitTimeNanosecond=sn,Gi.prototype.visitDecimal=Qi,Gi.prototype.visitList=function(t,e){return t===e||Zi(t,e)&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)},Gi.prototype.visitStruct=function(t,e){return t===e||Zi(t,e)&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)},Gi.prototype.visitUnion=on,Gi.prototype.visitDenseUnion=on,Gi.prototype.visitSparseUnion=on,Gi.prototype.visitDictionary=function(t,e){return t===e||Zi(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&cn.visit(t.indices,e.indices)&&cn.visit(t.dictionary,e.dictionary)},Gi.prototype.visitInterval=an,Gi.prototype.visitIntervalDayTime=an,Gi.prototype.visitIntervalYearMonth=an,Gi.prototype.visitFixedSizeList=function(t,e){return t===e||Zi(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)},Gi.prototype.visitMap=function(t,e){return t===e||Zi(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&cn.compareManyFields(t.children,e.children)};const cn=new Gi;function ln(t,e){return cn.compareSchemas(t,e)}var hn,un;class dn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof $i))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ki({nullCount:0,type:new Ht(this.schema.fields),children:this.schema.fields.map((t=>Ki({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Wi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=pn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce(((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Ji.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),s=new $i(i),o=Ki({type:new Ht(i),length:r,children:n,nullCount:0});[this.schema,this.data]=pn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=fn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ze.visit(this.data,t)}set(t,e){return Ae.visit(this.data,t,e)}indexOf(t,e){return xi.visit(this.data,t,e)}getByteLength(t){return Ri.visit(this.data,t)}[Symbol.iterator](){return Ci.visit(new Vi([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new mn(this.schema,[this,...e])}slice(t,e){const[i]=new Vi([this.data]).slice(t,e).data;return new dn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Vi([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Vi([Ki({type:new Mt,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new $i(r,new Map(this.schema.metadata)),n=Ki({type:new Ht(r),children:s})}return new dn(i,n)}select(t){const e=this.schema.select(t),i=new Ht(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(n[t]=this.data.children[t])}return new dn(e,Ki({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),n=Ki({type:new Ht(e.fields),length:this.numRows,children:i});return new dn(e,n)}}function pn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[a,c]of t.fields.entries()){const t=e[a];t&&t.length===i||(r[a]=c.clone({nullable:!0}),s[a]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Ki({type:c.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Ki({type:new Ht(r),length:i,children:s})]}function fn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,s=e[n];if(xt.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(r.id,s.dictionary);r.children&&r.children.length>0&&fn(r.children,s.children,i)}return i}hn=Symbol.toStringTag,dn[hn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(dn.prototype);class yn extends dn{constructor(t){const e=t.fields.map((t=>Ki({type:t.type})));super(t,Ki({type:new Ht(t.fields),nullCount:0,children:e}))}}function bn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,o=0,a=-1;const c=e.length;let l,h=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)h[a]=l=e[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(h=gn(i,o,h,e,r),o>0&&(n[s++]=Ki({type:new Ht(i),length:o,nullCount:0,children:h.slice()})))}return[t=t.assign(i),n.map((e=>new dn(t,e)))]}(t,e.map((t=>t.data.concat())))}function gn(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let a=-1,c=n.length;++a<c;){const c=i[a],l=null===c||void 0===c?void 0:c.length;if(l>=e)l===e?i[a]=c:(i[a]=c.slice(0,e),r.numBatches=Math.max(r.numBatches,n[a].unshift(c.slice(e,l-e))));else{const n=t[a];t[a]=n.clone({nullable:!0}),i[a]=null!==(s=null===c||void 0===c?void 0:c._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Ki({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class mn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new $i([]),this._offsets=[0],this;let s,o;n[0]instanceof $i&&(s=n.shift()),n[n.length-1]instanceof Uint32Array&&(o=n.pop());const a=t=>{if(t){if(t instanceof dn)return[t];if(t instanceof mn)return t.batches;if(t instanceof Wi){if(t.type instanceof Ht)return[new dn(new $i(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Vi([t[e]]))),n=new $i(e.map(((t,e)=>new Ji(String(t),i[e].type)))),[,r]=bn(n,i);return 0===r.length?[new dn(t)]:r}}}return[]},c=n.flatMap((t=>a(t)));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=c[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new $i([]),!(s instanceof $i))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of c){if(!(l instanceof dn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!ln(s,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=c,this._offsets=null!==o&&void 0!==o?o:di(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=ui(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Ci.visit(new Vi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new mn(t,r.map((e=>new dn(t,e))))}slice(t,e){const i=this.schema;[t,e]=si({length:this.numRows},t,e);const n=pi(this.data,this._offsets,t,e);return new mn(i,n.map((t=>new dn(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],n=Ki({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Vi(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Vi([Ki({type:new Mt,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],o[t]]=[s,e],[i,n]=bn(i,o)}return new mn(i,n)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new mn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce(((t,i,n)=>{const[r,s]=t,o=e.findIndex((t=>t.name===i.name));return~o?s[o]=n:r.push(n),t}),[[],[]]),r=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,n[e]])).map((e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new mn(...bn(r,s))}}un=Symbol.toStringTag,mn[un]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=bi(yi),t.get=bi(Ze.getVisitFn(c.Struct)),t.set=gi(Ae.getVisitFn(c.Struct)),t.indexOf=mi(xi.getVisitFn(c.Struct)),t.getByteLength=bi(Ri.getVisitFn(c.Struct)),"Table"))(mn.prototype);class _n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const vn=new Int32Array(2),wn=new Float32Array(vn.buffer),Sn=new Float64Array(vn.buffer),In=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Bn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Bn.ZERO:new Bn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var An,Tn,On,Dn,xn;Bn.ZERO=new Bn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(An||(An={}));class Mn{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Mn(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Bn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Bn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return vn[0]=this.readInt32(t),wn[0]}readFloat64(t){return vn[In?0:1]=this.readInt32(t),vn[In?1:0]=this.readInt32(t+4),Sn[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){wn[0]=e,this.writeInt32(t,vn[0])}writeFloat64(t,e){Sn[0]=e,this.writeInt32(t,vn[In?0:1]),this.writeInt32(t+4,vn[In?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===An.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const s=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&s;else{e=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Bn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class Fn{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Mn.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=Fn.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=Mn.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return Bn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Nn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Nn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Nn).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Nn.startKeyValue(t),Nn.addKey(t,e),Nn.addValue(t,i),Nn.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Tn||(Tn={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(On||(On={})),function(t){t[t.DenseArray=0]="DenseArray"}(Dn||(Dn={}));class Cn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Cn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Cn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Cn.startInt(t),Cn.addBitWidth(t,e),Cn.addIsSigned(t,i),Cn.endInt(t)}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Cn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Dn.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Dn.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(xn||(xn={}));class kn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new kn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new kn).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):xn.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Un).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new kn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Nn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,xn.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):On.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new kn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Nn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,On.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Ln.startSchema(t),Ln.addEndianness(t,e),Ln.addFields(t,i),Ln.addCustomMetadata(t,n),Ln.addFeatures(t,r),Ln.endSchema(t)}}class En{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new En).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new En).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tn.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ln).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new _n).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new _n).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Nn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Tn.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Rn=Bn,zn=Fn,Pn=Mn;class jn{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=e,this.version=i,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new Pn(J(t));const e=En.getRootAsFooter(t),i=$i.decode(e.schema());return new Vn(i,e)}static encode(e){const i=new zn,n=$i.encode(i,e.schema);En.startRecordBatchesVector(i,e.numRecordBatches);for(const t of[...e.recordBatches()].slice().reverse())Hn.encode(i,t);const r=i.endVector();En.startDictionariesVector(i,e.numDictionaries);for(const t of[...e.dictionaryBatches()].slice().reverse())Hn.encode(i,t);const s=i.endVector();return En.startFooter(i),En.addSchema(i,n),En.addVersion(i,t.V4),En.addRecordBatches(i,r),En.addDictionaries(i,s),En.finishFooterBuffer(i,En.endFooter(i)),i.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Vn extends jn{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Hn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Hn.decode(e)}return null}}class Hn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Hn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new Rn(e.offset,0),r=new Rn(e.bodyLength,0);return _n.createBlock(t,n,i,r)}}const Wn={fromIterable:t=>Yn(function*(t){let e,i,n,r,s=!1,o=[],a=0;function c(){return"peek"===n?Y(o,r)[0]:([i,o,a]=Y(o,r),i)}({cmd:n,size:r}=yield null);const l=(h=t,q(Uint8Array,h))[Symbol.iterator]();var h;try{do{if(({done:e,value:i}=Number.isNaN(r-a)?l.next():l.next(r-a)),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield c())}while(r<a)}while(!e)}catch(bo){(s=!0)&&"function"===typeof l.throw&&l.throw(bo)}finally{!1===s&&"function"===typeof l.return&&l.return(null)}return null}(t)),fromAsyncIterable:t=>Yn(function(t){return L(this,arguments,(function*(){let e,i,n,r,s=!1,o=[],a=0;function c(){return"peek"===n?Y(o,r)[0]:([i,o,a]=Y(o,r),i)}({cmd:n,size:r}=yield yield k(null));const l=(h=t,G(Uint8Array,h))[Symbol.asyncIterator]();var h;try{do{if(({done:e,value:i}=Number.isNaN(r-a)?yield k(l.next()):yield k(l.next(r-a))),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield yield k(c()))}while(r<a)}while(!e)}catch(bo){(s=!0)&&"function"===typeof l.throw&&(yield k(l.throw(bo)))}finally{!1===s&&"function"===typeof l.return&&(yield k(l.return(new Uint8Array(0))))}return yield k(null)}))}(t)),fromDOMStream:t=>Yn(function(t){return L(this,arguments,(function*(){let e,i,n,r=!1,s=!1,o=[],a=0;function c(){return"peek"===i?Y(o,n)[0]:([e,o,a]=Y(o,n),e)}({cmd:i,size:n}=yield yield k(null));const l=new Kn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-a)?yield k(l.read()):yield k(l.read(n-a))),!r&&e.byteLength>0&&(o.push(J(e)),a+=e.byteLength),r||n<=a)do{({cmd:i,size:n}=yield yield k(c()))}while(n<a)}while(!r)}catch(bo){(s=!0)&&(yield k(l.cancel(bo)))}finally{!1===s?yield k(l.cancel()):t.locked&&l.releaseLock()}return yield k(null)}))}(t)),fromNodeStream:t=>Yn(function(t){return L(this,arguments,(function*(){const e=[];let i,n,r,s="error",o=!1,a=null,c=0,l=[];function h(){return"peek"===i?Y(l,n)[0]:([r,l,c]=Y(l,n),r)}if(({cmd:i,size:n}=yield yield k(null)),t.isTTY)return yield yield k(new Uint8Array(0)),yield k(null);try{e[0]=$n(t,"end"),e[1]=$n(t,"error");do{if(e[2]=$n(t,"readable"),[s,a]=yield k(Promise.race(e.map((t=>t[2])))),"error"===s)break;if((o="end"===s)||(Number.isFinite(n-c)?(r=J(t.read(n-c)),r.byteLength<n-c&&(r=J(t.read()))):r=J(t.read()),r.byteLength>0&&(l.push(r),c+=r.byteLength)),o||n<=c)do{({cmd:i,size:n}=yield yield k(h()))}while(n<c)}while(!o)}finally{yield k(u(e,"error"===s?a:null))}return yield k(null);function u(e,i){return r=l=null,new Promise(((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(bo){i=bo||i}finally{null!=i?r(i):n()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Yn=t=>(t.next(),t);class Kn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return C(this,void 0,void 0,(function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch((()=>{}))),i&&i.locked&&this.releaseLock()}))}read(t){return C(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=J(e)),e}))}}const $n=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise((r=>(n=r)&&t.once(e,i)))]};const Jn=Object.freeze({done:!0,value:void 0});class Xn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class qn{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Gn extends qn{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return C(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Jn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Wn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Wn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return C(this,void 0,void 0,(function*(){return yield this.abort(t),Jn}))}return(t){return C(this,void 0,void 0,(function*(){return yield this.close(),Jn}))}read(t){return C(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return C(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Jn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Zn extends Gn{write(t){if((t=J(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?P(this.toUint8Array(!0)):this.toUint8Array(!1).then(P)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Y(this._values)[0]:(()=>C(this,void 0,void 0,(function*(){var t,e;const i=[];let n=0;try{for(var r,s=R(this);!(r=yield s.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return Y(i,n)[0]})))()}}class Qn{constructor(t){t&&(this.source=new er(Wn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class tr{constructor(t){t instanceof tr?this.source=t.source:t instanceof Zn?this.source=new ir(Wn.fromAsyncIterable(t)):M(t)?this.source=new ir(Wn.fromNodeStream(t)):x(t)?this.source=new ir(Wn.fromDOMStream(t)):O(t)?this.source=new ir(Wn.fromDOMStream(t.body)):S(t)?this.source=new ir(Wn.fromIterable(t)):(w(t)||I(t))&&(this.source=new ir(Wn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class er{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Jn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Jn)}}class ir{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return C(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return C(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return C(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return C(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return C(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Jn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return C(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Jn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class nr extends Qn{constructor(t,e){super(),this.position=0,this.buffer=J(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class rr extends tr{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>C(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return C(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}))}seek(t){return C(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return C(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,s=0,o=0;const a=Math.min(i,r+Math.min(i-r,t)),c=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=o)<a&&(s+=o)<c.byteLength;)({bytesRead:o}=yield e.read(c,s,c.byteLength-s,r));return c}return null}))}readAt(t,e){return C(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return C(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return C(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return C(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function sr(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const or=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class ar{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(sr(this.buffer[1])," ").concat(sr(this.buffer[0]))}}class cr extends ar{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return cr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return cr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new cr(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new cr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),o=new cr(new Uint32Array([or[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)cr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new cr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new cr(new Uint32Array(t.buffer)).plus(e)}}class lr extends ar{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return lr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return lr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new lr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new lr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new lr(new Uint32Array([or[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)lr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new lr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new lr(new Uint32Array(t.buffer)).plus(e)}}class hr{constructor(t){this.buffer=t}high(){return new lr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new lr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new cr(new Uint32Array([this.buffer[3],0])),i=new cr(new Uint32Array([this.buffer[2],0])),n=new cr(new Uint32Array([this.buffer[1],0])),r=new cr(new Uint32Array([this.buffer[0],0])),s=new cr(new Uint32Array([t.buffer[3],0])),o=new cr(new Uint32Array([t.buffer[2],0])),a=new cr(new Uint32Array([t.buffer[1],0])),c=new cr(new Uint32Array([t.buffer[0],0]));let l=cr.multiply(r,c);this.buffer[0]=l.low();const h=new cr(new Uint32Array([l.high(),0]));l=cr.multiply(n,c),h.plus(l),l=cr.multiply(r,a),h.plus(l),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(l)?1:0,this.buffer[2]=h.high();return new cr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(cr.multiply(i,c)).plus(cr.multiply(n,a)).plus(cr.multiply(r,o)),this.buffer[3]+=cr.multiply(e,c).plus(cr.multiply(i,a)).plus(cr.multiply(n,o)).plus(cr.multiply(r,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(sr(this.buffer[3])," ").concat(sr(this.buffer[2])," ").concat(sr(this.buffer[1])," ").concat(sr(this.buffer[0]))}static multiply(t,e){return new hr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new hr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return hr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return hr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new hr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new hr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new hr(new Uint32Array([or[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)hr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class ur extends Zt{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Ji?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===e.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class dr extends ur{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Si(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return xt.isTimestamp(t)||(xt.isInt(t)||xt.isTime(t))&&64===t.bitWidth||xt.isDate(t)&&t.unit===r.MILLISECOND?K(Uint8Array,lr.convertArray(i[e])):xt.isDecimal(t)?K(Uint8Array,hr.convertArray(i[e])):xt.isBinary(t)||xt.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):xt.isBool(t)?Si(i[e]):xt.isUtf8(t)?V(i[e].join("")):K(Uint8Array,K(t.ArrayType,i[e].map((t=>+t))))}}var pr,fr,yr,br,gr,mr,_r,vr;!function(t){t[t.BUFFER=0]="BUFFER"}(pr||(pr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(fr||(fr={}));class wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new wr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):fr.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):pr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,fr.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,pr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return wr.startBodyCompression(t),wr.addCodec(t,e),wr.addMethod(t,i),wr.endBodyCompression(t)}}class Sr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Ir).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Sr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new wr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Br).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(yr||(yr={}));class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,yr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Tr.startFloatingPoint(t),Tr.addPrecision(t,e),Tr.endFloatingPoint(t)}}class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Or.startDecimal(t),Or.addPrecision(t,e),Or.addScale(t,i),Or.addBitWidth(t,n),Or.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(br||(br={}));class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):br.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,br.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Dr.startDate(t),Dr.addUnit(t,e),Dr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(gr||(gr={}));class xr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new xr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new xr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,gr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return xr.startTime(t),xr.addUnit(t,e),xr.addBitWidth(t,i),xr.endTime(t)}}class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,gr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Mr.startTimestamp(t),Mr.addUnit(t,e),Mr.addTimezone(t,i),Mr.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(mr||(mr={}));class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,mr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Fr.startInterval(t),Fr.addUnit(t,e),Fr.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(_r||(_r={}));class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,_r.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Nr.startUnion(t),Nr.addMode(t,e),Nr.addTypeIds(t,i),Nr.endUnion(t)}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Cr.startFixedSizeBinary(t),Cr.addByteWidth(t,e),Cr.endFixedSizeBinary(t)}}class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Ur.startFixedSizeList(t),Ur.addListSize(t,e),Ur.endFixedSizeList(t)}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return kr.startMap(t),kr.addKeysSorted(t,e),kr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(vr||(vr={}));class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tn.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):vr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Nn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Tn.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,vr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,s){return Lr.startMessage(t),Lr.addVersion(t,e),Lr.addHeaderType(t,i),Lr.addHeader(t,n),Lr.addBodyLength(t,r),Lr.addCustomMetadata(t,s),Lr.endMessage(t)}}class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Er.startNull(t),Er.endNull(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Rr.startBinary(t),Rr.endBinary(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return zr.startBool(t),zr.endBool(t)}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Pr.startUtf8(t),Pr.endUtf8(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return jr.startList(t),jr.endList(t)}}class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Vr.startStruct_(t),Vr.endStruct_(t)}}var Hr=Bn;const Wr=new class extends Zt{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Er.startNull(e),Er.endNull(e)}visitInt(t,e){return Cn.startInt(e),Cn.addBitWidth(e,t.bitWidth),Cn.addIsSigned(e,t.isSigned),Cn.endInt(e)}visitFloat(t,e){return Tr.startFloatingPoint(e),Tr.addPrecision(e,t.precision),Tr.endFloatingPoint(e)}visitBinary(t,e){return Rr.startBinary(e),Rr.endBinary(e)}visitBool(t,e){return zr.startBool(e),zr.endBool(e)}visitUtf8(t,e){return Pr.startUtf8(e),Pr.endUtf8(e)}visitDecimal(t,e){return Or.startDecimal(e),Or.addScale(e,t.scale),Or.addPrecision(e,t.precision),Or.addBitWidth(e,t.bitWidth),Or.endDecimal(e)}visitDate(t,e){return Dr.startDate(e),Dr.addUnit(e,t.unit),Dr.endDate(e)}visitTime(t,e){return xr.startTime(e),xr.addUnit(e,t.unit),xr.addBitWidth(e,t.bitWidth),xr.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Mr.startTimestamp(e),Mr.addUnit(e,t.unit),void 0!==i&&Mr.addTimezone(e,i),Mr.endTimestamp(e)}visitInterval(t,e){return Fr.startInterval(e),Fr.addUnit(e,t.unit),Fr.endInterval(e)}visitList(t,e){return jr.startList(e),jr.endList(e)}visitStruct(t,e){return Vr.startStruct_(e),Vr.endStruct_(e)}visitUnion(t,e){Nr.startTypeIdsVector(e,t.typeIds.length);const i=Nr.createTypeIdsVector(e,t.typeIds);return Nr.startUnion(e),Nr.addMode(e,t.mode),Nr.addTypeIds(e,i),Nr.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Un.startDictionaryEncoding(e),Un.addId(e,new Hr(t.id,0)),Un.addIsOrdered(e,t.isOrdered),void 0!==i&&Un.addIndexType(e,i),Un.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Cr.startFixedSizeBinary(e),Cr.addByteWidth(e,t.byteWidth),Cr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Ur.startFixedSizeList(e),Ur.addListSize(e,t.listSize),Ur.endFixedSizeList(e)}visitMap(t,e){return kr.startMap(e),kr.addKeysSorted(e,t.keysSorted),kr.endMap(e)}};function Yr(t){return new is(t.count,$r(t.columns),Jr(t.columns))}function Kr(t,e){return(t.children||[]).filter(Boolean).map((t=>Ji.fromJSON(t,e)))}function $r(t){return(t||[]).reduce(((t,e)=>{return[...t,new ss(e.count,(i=e.VALIDITY,(i||[]).reduce(((t,e)=>t+ +(0===e)),0))),...$r(e.children)];var i}),[])}function Jr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new rs(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new rs(e.length,n.TYPE.length)),n.OFFSET&&e.push(new rs(e.length,n.OFFSET.length)),n.DATA&&e.push(new rs(e.length,n.DATA.length)),e=Jr(n.children,e)}return e}function Xr(t){return new Map(Object.entries(t||{}))}function qr(t){return new Ft(t.isSigned,t.bitWidth)}function Gr(t,i){const a=t.type.name;switch(a){case"NONE":case"null":return new Mt;case"binary":return new Ut;case"utf8":return new kt;case"bool":return new Lt;case"list":return new Vt((i||[])[0]);case"struct":case"struct_":return new Ht(i||[])}switch(a){case"int":{const e=t.type;return new Ft(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Ct(n[e.precision])}case"decimal":{const e=t.type;return new Et(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Rt(r[e.unit])}case"time":{const e=t.type;return new zt(s[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new Pt(s[e.unit],e.timezone)}case"interval":{const e=t.type;return new jt(o[e.unit])}case"union":{const n=t.type;return new Wt(e[n.mode],n.typeIds||[],i||[])}case"fixedsizebinary":{const e=t.type;return new Yt(e.byteWidth)}case"fixedsizelist":{const e=t.type;return new Kt(e.listSize,(i||[])[0])}case"map":{const e=t.type;return new $t((i||[])[0],e.keysSorted)}}throw new Error('Unrecognized type: "'.concat(a,'"'))}var Zr=Bn,Qr=Fn,ts=Mn;class es{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(e,i){const n=new es(0,t.V4,i);return n._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return $i.fromJSON(t);case a.RecordBatch:return is.fromJSON(t);case a.DictionaryBatch:return ns.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(a[e],", type: ").concat(e," }"))}}(e,i),n}static decode(t){t=new ts(J(t));const e=Lr.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new es(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return $i.decode(t.header(new Ln));case a.RecordBatch:return is.decode(t.header(new Br),t.version());case a.DictionaryBatch:return ns.decode(t.header(new Ar),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(a[e],", type: ").concat(e," }"))}}(e,r),s}static encode(e){const i=new Qr;let n=-1;return e.isSchema()?n=$i.encode(i,e.header()):e.isRecordBatch()?n=is.encode(i,e.header()):e.isDictionaryBatch()&&(n=ns.encode(i,e.header())),Lr.startMessage(i),Lr.addVersion(i,t.V4),Lr.addHeader(i,n),Lr.addHeaderType(i,e.headerType),Lr.addBodyLength(i,new Zr(e.bodyLength,0)),Lr.finishMessageBuffer(i,Lr.endMessage(i)),i.asUint8Array()}static from(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e instanceof $i)return new es(0,t.V4,a.Schema,e);if(e instanceof is)return new es(i,t.V4,a.RecordBatch,e);if(e instanceof ns)return new es(i,t.V4,a.DictionaryBatch,e);throw new Error("Unrecognized Message header: ".concat(e))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===a.Schema}isRecordBatch(){return this.headerType===a.RecordBatch}isDictionaryBatch(){return this.headerType===a.DictionaryBatch}}class is{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ns{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class rs{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class ss{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function os(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=Ji.decode(n,e));return i}function as(t){const e=new Map;if(t)for(let i,n,r=-1,s=Math.trunc(t.customMetadataLength());++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function cs(t){return new Ft(t.isSigned(),t.bitWidth())}function ls(t,e){const i=t.typeType();switch(i){case xn.NONE:case xn.Null:return new Mt;case xn.Binary:return new Ut;case xn.Utf8:return new kt;case xn.Bool:return new Lt;case xn.List:return new Vt((e||[])[0]);case xn.Struct_:return new Ht(e||[])}switch(i){case xn.Int:{const e=t.type(new Cn);return new Ft(e.isSigned(),e.bitWidth())}case xn.FloatingPoint:{const e=t.type(new Tr);return new Ct(e.precision())}case xn.Decimal:{const e=t.type(new Or);return new Et(e.scale(),e.precision(),e.bitWidth())}case xn.Date:{const e=t.type(new Dr);return new Rt(e.unit())}case xn.Time:{const e=t.type(new xr);return new zt(e.unit(),e.bitWidth())}case xn.Timestamp:{const e=t.type(new Mr);return new Pt(e.unit(),e.timezone())}case xn.Interval:{const e=t.type(new Fr);return new jt(e.unit())}case xn.Union:{const i=t.type(new Nr);return new Wt(i.mode(),i.typeIdsArray()||[],e||[])}case xn.FixedSizeBinary:{const e=t.type(new Cr);return new Yt(e.byteWidth())}case xn.FixedSizeList:{const i=t.type(new Ur);return new Kt(i.listSize(),(e||[])[0])}case xn.Map:{const i=t.type(new kr);return new $t((e||[])[0],i.keysSorted())}}throw new Error('Unrecognized type: "'.concat(xn[i],'" (').concat(i,")"))}Ji.encode=function(t,e){let i=-1,n=-1,r=-1;const s=e.type;let o=e.typeId;xt.isDictionary(s)?(o=s.dictionary.typeId,r=Wr.visit(s,t),n=Wr.visit(s.dictionary,t)):n=Wr.visit(s,t);const a=(s.children||[]).map((e=>Ji.encode(t,e))),c=kn.createChildrenVector(t,a),l=e.metadata&&e.metadata.size>0?kn.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return Nn.startKeyValue(t),Nn.addKey(t,r),Nn.addValue(t,s),Nn.endKeyValue(t)}))):-1;e.name&&(i=t.createString(e.name));kn.startField(t),kn.addType(t,n),kn.addTypeType(t,o),kn.addChildren(t,c),kn.addNullable(t,!!e.nullable),-1!==i&&kn.addName(t,i);-1!==r&&kn.addDictionary(t,r);-1!==l&&kn.addCustomMetadata(t,l);return kn.endField(t)},Ji.decode=function(t,e){let i,n,r,s,o,a;e&&(a=t.dictionary())?e.has(i=a.id().low)?(s=(s=a.indexType())?cs(s):new Nt,o=new qt(e.get(i),s,i,a.isOrdered()),n=new Ji(t.name(),o,t.nullable(),as(t))):(s=(s=a.indexType())?cs(s):new Nt,e.set(i,r=ls(t,os(t,e))),o=new qt(r,s,i,a.isOrdered()),n=new Ji(t.name(),o,t.nullable(),as(t))):(r=ls(t,os(t,e)),n=new Ji(t.name(),r,t.nullable(),as(t)));return n||null},Ji.fromJSON=function(t,e){let i,n,r,s,o,a;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?qr(n):new Nt,a=new qt(e.get(i),n,i,s.isOrdered),r=new Ji(t.name,a,t.nullable,Xr(t.customMetadata))):(n=(n=s.indexType)?qr(n):new Nt,e.set(i,o=Gr(t,Kr(t,e))),a=new qt(o,n,i,s.isOrdered),r=new Ji(t.name,a,t.nullable,Xr(t.customMetadata))):(o=Gr(t,Kr(t,e)),r=new Ji(t.name,o,t.nullable,Xr(t.customMetadata))),r||null},$i.encode=function(t,e){const i=e.fields.map((e=>Ji.encode(t,e)));Ln.startFieldsVector(t,i.length);const n=Ln.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Ln.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return Nn.startKeyValue(t),Nn.addKey(t,r),Nn.addValue(t,s),Nn.endKeyValue(t)}))):-1;Ln.startSchema(t),Ln.addFields(t,n),Ln.addEndianness(t,hs?On.Little:On.Big),-1!==r&&Ln.addCustomMetadata(t,r);return Ln.endSchema(t)},$i.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=Ji.decode(n,e));return i}(t,e);return new $i(i,as(t),e)},$i.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new $i(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>Ji.fromJSON(t,e)))}(t,e),Xr(t.customMetadata),e)},is.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];Br.startNodesVector(t,i.length);for(const o of i.slice().reverse())ss.encode(t,o);const r=t.endVector();Br.startBuffersVector(t,n.length);for(const o of n.slice().reverse())rs.encode(t,o);const s=t.endVector();return Br.startRecordBatch(t),Br.addLength(t,new Zr(e.length,0)),Br.addNodes(t,r),Br.addBuffers(t,s),Br.endRecordBatch(t)},is.decode=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;if(null!==e.compression())throw new Error("Record batch compression not implemented");return new is(e.length(),function(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=ss.decode(i));return e}(e),function(e,i){const n=[];for(let r,s=-1,o=-1,a=e.buffersLength();++s<a;)(r=e.buffers(s))&&(i<t.V4&&(r.bb_pos+=8*(s+1)),n[++o]=rs.decode(r));return n}(e,i))},is.fromJSON=Yr,ns.encode=function(t,e){const i=is.encode(t,e.data);return Ar.startDictionaryBatch(t),Ar.addId(t,new Zr(e.id,0)),Ar.addIsDelta(t,e.isDelta),Ar.addData(t,i),Ar.endDictionaryBatch(t)},ns.decode=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;return new ns(is.decode(e.data(),i),e.id(),e.isDelta())},ns.fromJSON=function(t){return new ns(Yr(t.data),t.id,t.isDelta)},ss.encode=function(t,e){return Ir.createFieldNode(t,new Zr(e.length,0),new Zr(e.nullCount,0))},ss.decode=function(t){return new ss(t.length(),t.nullCount())},rs.encode=function(t,e){return Sr.createBuffer(t,new Zr(e.offset,0),new Zr(e.length,0))},rs.decode=function(t){return new rs(t.offset(),t.length())};const hs=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),us=t=>"Expected ".concat(a[t]," Message in stream, but was null or length 0."),ds=t=>"Header pointer of flatbuffer-encoded ".concat(a[t]," Message is null or length 0."),ps=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),fs=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class ys{constructor(t){this.source=t instanceof Qn?t:new Qn(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Jn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(us(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=J(this.source.read(t));if(e.byteLength<t)throw new Error(fs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=a.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ds(e));return n}readMetadataLength(){const t=this.source.read(ms),e=t&&new Mn(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Jn;if(e.byteLength<t)throw new Error(ps(t,e.byteLength));return{done:!1,value:es.decode(e)}}}class bs{constructor(t,e){this.source=t instanceof tr?t:T(t)?new rr(t,e):new tr(t)}[Symbol.asyncIterator](){return this}next(){return C(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Jn:t}))}throw(t){return C(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return C(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return C(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(us(t));return e.value}))}readMessageBody(t){return C(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=J(yield this.source.read(t));if(e.byteLength<t)throw new Error(fs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return C(this,void 0,void 0,(function*(){const e=a.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ds(e));return n}))}readMetadataLength(){return C(this,void 0,void 0,(function*(){const t=yield this.source.read(ms),e=t&&new Mn(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}))}readMetadata(t){return C(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Jn;if(e.byteLength<t)throw new Error(ps(t,e.byteLength));return{done:!1,value:es.decode(e)}}))}}class gs extends ys{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Xn?t:new Xn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:es.fromJSON(t.schema,a.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:es.fromJSON(e,a.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:es.fromJSON(e,a.RecordBatch)}}return this._body=[],Jn}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(us(t));return e.value}readSchema(){const t=a.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(ds(t));return i}}const ms=4,_s="ARROW1",vs=new Uint8Array(6);for(let i=0;i<6;i+=1)vs[i]=_s.codePointAt(i);function ws(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=vs.length;++i<n;)if(vs[i]!==t[e+i])return!1;return!0}const Ss=vs.length,Is=Ss+ms,Bs=2*Ss+ms;class As extends qn{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return w(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Wn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Wn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof As?t:B(t)?function(t){return new Ts(new ks(t))}(t):T(t)?function(t){return C(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),i=new rr(t,e);return e>=Bs&&ws(yield i.readAt(0,Ss+7&-8))?new xs(new Us(i)):new Os(new Ns(i))}))}(t):w(t)?(()=>C(this,void 0,void 0,(function*(){return yield As.from(yield t)})))():O(t)||x(t)||M(t)||I(t)?function(t){return C(this,void 0,void 0,(function*(){const e=yield t.peek(Ss+7&-8);return e&&e.byteLength>=4?ws(e)?new Ds(new Cs(yield t.read())):new Os(new Ns(t)):new Os(new Ns(function(){return L(this,arguments,(function*(){}))}()))}))}(new tr(t)):function(t){const e=t.peek(Ss+7&-8);return e&&e.byteLength>=4?ws(e)?new Ds(new Cs(t.read())):new Ts(new Fs(t)):new Ts(new Fs(function*(){}()))}(new Qn(t))}static readAll(t){return t instanceof As?t.isSync()?Es(t):Rs(t):B(t)||ArrayBuffer.isView(t)||S(t)||A(t)?Es(t):Rs(t)}}class Ts extends As{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return L(this,arguments,(function*(){yield k(yield*E(R(this[Symbol.iterator]())))}))}}class Os extends As{constructor(t){super(t),this._impl=t}readAll(){var t,e;return C(this,void 0,void 0,(function*(){const i=new Array;try{for(var n,r=R(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Ds extends Ts{constructor(t){super(t),this._impl=t}}class xs extends Os{constructor(t){super(t),this._impl=t}}class Ms{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Ki({type:new Ht(this.schema.fields),length:t.length,children:i});return new dn(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:s}=this,o=r.get(i);if(n||!o){const r=s.dictionaries.get(i),a=this._loadVectors(t.data,e,[r]);return(o&&n?o.concat(new Vi(a)):new Vi(a)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new ur(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Fs extends Ms{constructor(t,e){super(e),this._reader=B(t)?new gs(this._handle=t):new ys(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Ls(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Jn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Jn}next(){if(this.closed)return Jn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new yn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Ns extends Ms{constructor(t,e){super(e),this._reader=new bs(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return C(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return C(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Ls(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return C(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Jn}))}return(t){return C(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Jn}))}next(){return C(this,void 0,void 0,(function*(){if(this.closed)return Jn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new yn(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return C(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class Cs extends Fs{constructor(t,e){super(t instanceof nr?t:new nr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-Is,i=t.readInt32(e),n=t.readAt(e-i,i);return jn.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class Us extends Ns{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof rr?t:new rr(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return C(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return C(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}))}_readDictionaryBatch(t){var e;return C(this,void 0,void 0,(function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}))}_readFooter(){return C(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Is,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return jn.decode(n)}))}_readNextMessageAndValidate(t){return C(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class ks extends Fs{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new dr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Ls(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Es(t){const e=As.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Rs(t){return L(this,arguments,(function*(){const e=yield k(As.from(t));try{if(!(yield k(e.open({autoDestroy:!1}))).closed)do{yield yield k(e)}while(!(yield k(e.reset().open())).closed)}finally{yield k(e.cancel())}}))}class zs extends Zt{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof dn?e.data.children:e.data)),e=new zs;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Vi)return this.visitMany(t.data),this;const{type:e}=t;if(!xt.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");xt.isNull(e)||Ps.call(this,n<=0?new Uint8Array(0):wi(t.offset,i,t.nullBitmap)),this.nodes.push(new ss(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ps(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new rs(this._byteLength,e)),this._byteLength+=e,this}function js(t){return Ps.call(this,t.values.subarray(0,t.length*t.stride))}function Vs(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return Ps.call(this,Z(-n[0],e,n)),Ps.call(this,i.subarray(r,r+o)),this}function Hs(t){const{length:e,valueOffsets:i}=t;return i&&Ps.call(this,Z(i[0],e,i)),this.visit(t.children[0])}function Ws(t){return this.visitMany(t.type.children.map(((e,i)=>t.children[i])).filter(Boolean))[0]}zs.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Ps.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Ps.call(this,wi(t.offset,t.length,e)):Ps.call(this,Si(t.values))},zs.prototype.visitInt=js,zs.prototype.visitFloat=js,zs.prototype.visitUtf8=Vs,zs.prototype.visitBinary=Vs,zs.prototype.visitFixedSizeBinary=js,zs.prototype.visitDate=js,zs.prototype.visitTimestamp=js,zs.prototype.visitTime=js,zs.prototype.visitDecimal=js,zs.prototype.visitList=Hs,zs.prototype.visitStruct=Ws,zs.prototype.visitUnion=function(t){const{type:i,length:n,typeIds:r,valueOffsets:s}=t;if(Ps.call(this,r),i.mode===e.Sparse)return Ws.call(this,t);if(i.mode===e.Dense){if(t.offset<=0)return Ps.call(this,s),Ws.call(this,t);{const e=r.reduce(((t,e)=>Math.max(t,e)),r[0]),o=new Int32Array(e+1),a=new Int32Array(e+1).fill(-1),c=new Int32Array(n),l=Z(-s[0],n,s);for(let t,i,s=-1;++s<n;)-1===(i=a[t=r[s]])&&(i=a[t]=l[t]),c[s]=l[s]-i,++o[t];Ps.call(this,c);for(let r,s=-1,h=i.children.length;++s<h;)if(r=t.children[s]){const t=i.typeIds[s],e=Math.min(n,o[t]);this.visit(r.slice(a[t],e))}}}return this},zs.prototype.visitInterval=js,zs.prototype.visitFixedSizeList=Hs,zs.prototype.visitMap=Hs;class Ys extends qn{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Zn,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,v(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return w(t)?t.then((t=>this.writeAll(t))):I(t)?Xs(this,t):Js(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof Zn?this._sink=t:(this._sink=new Zn,t&&(t=>v(t)&&_(t.abort)&&_(t.getWriter)&&!D(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>v(t)&&_(t.end)&&_(t.write)&&m(t.writable)&&!D(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&ln(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof mn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof dn&&!(e=t.schema))return this.finish()&&void 0;if(e&&!ln(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof dn?t instanceof yn||this._writeRecordBatch(t):t instanceof mn?this.writeAll(t.batches):S(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=es.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===a.RecordBatch?this._recordBatchBlocks.push(new Hn(s,t.bodyLength,this._position)):t.headerType===a.DictionaryBatch&&this._dictionaryBlocks.push(new Hn(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=J(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(es.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(vs)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=zs.assemble(t),s=new is(t.numRows,i,n),o=es.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=zs.assemble(new Vi([t])),a=new is(t.length,r,s),c=new ns(a,e,i),l=es.from(c,n);return this._writeMessage(l)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class Ks extends Ys{static writeAll(t,e){const i=new Ks(e);return w(t)?t.then((t=>i.writeAll(t))):I(t)?Xs(i,t):Js(i,t)}}class $s extends Ys{static writeAll(t){const e=new $s;return w(t)?t.then((t=>e.writeAll(t))):I(t)?Xs(e,t):Js(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(e){const i=jn.encode(new jn(e,t.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(i)._write(Int32Array.of(i.byteLength))._writeMagic()}}function Js(t,e){let i=e;e instanceof mn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function Xs(t,e){var i,n,r,s;return C(this,void 0,void 0,(function*(){try{for(i=R(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}return t.finish()}))}function qs(t){const e=As.from(t);return w(e)?e.then((t=>qs(t))):e.isAsync()?e.readAll().then((t=>new mn(t))):new mn(e.readAll())}function Gs(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Ks:$s).writeAll(t).toUint8Array(!0)}var Zs,Qs=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(c=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,c,t)};if(n){o=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(a),classNames:o.join(" "),content:r.getContent(r.indexTable,a,e)}}o=["data","row"+(a=t-r.headerRows),"col"+(c=e-r.headerColumns)];var a,c,l=r.styler?r.getContent(r.styler.displayValuesTable,a,c):r.getContent(r.dataTable,a,c);return{type:"data",id:"T_".concat(r.uuid,"row").concat(a,"_col").concat(c),classNames:o.join(" "),content:l}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===c.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=qs(t),this.indexTable=qs(e),this.columnsTable=qs(i),this.styler=n?{caption:n.caption,displayValuesTable:qs(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:Gs(this.dataTable),index:Gs(this.indexTable),columns:Gs(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),to=function(){return to=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},to.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(Zs||(Zs={}));var eo=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(Zs.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(Zs.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof Qs?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(bo){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(Zs.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=to(to({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&io(s);var o={disabled:r,args:i,theme:s},a=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,s=e.styler;return new Qs(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(to({isStreamlitMessage:!0,type:t},e),"*")},t}(),io=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var no,ro,so,oo,ao,co=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}co(e,t),e.prototype.componentDidMount=function(){eo.setFrameHeight()},e.prototype.componentDidUpdate=function(){eo.setFrameHeight()}}(h.PureComponent);function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function ho(t){var e=function(t,e){if("object"!=lo(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lo(e)?e:e+""}const uo=(null===(no="undefined"!=typeof globalThis?globalThis:void 0)||void 0===no?void 0:no.crypto)||(null===(ro="undefined"!=typeof global?global:void 0)||void 0===ro?void 0:ro.crypto)||(null===(so="undefined"!=typeof window?window:void 0)||void 0===so?void 0:so.crypto)||(null===(oo="undefined"!=typeof self?self:void 0)||void 0===oo?void 0:oo.crypto)||(null===(ao="undefined"!=typeof frames?frames:void 0)||void 0===ao||null===(ao=ao[0])||void 0===ao?void 0:ao.crypto);let po;po=uo?t=>{const e=[];for(let i=0;i<t;i+=4)e.push(uo.getRandomValues(new Uint32Array(1))[0]);return new yo(e,t)}:t=>{const e=[],i=t=>{let e=t,i=987654321;const n=4294967295;return()=>{i=36969*(65535&i)+(i>>16)&n,e=18e3*(65535&e)+(e>>16)&n;let t=(i<<16)+e&n;return t/=4294967296,t+=.5,t*(Math.random()>.5?1:-1)}};for(let n,r=0;r<t;r+=4){const t=i(4294967296*(n||Math.random()));n=987654071*t(),e.push(4294967296*t()|0)}return new yo(e,t)};class fo{static create(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this(...e)}mixIn(t){return Object.assign(this,t)}clone(){const t=new this.constructor;return Object.assign(t,this),t}}class yo extends fo{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4*t.length;super();let i=t;if(i instanceof ArrayBuffer&&(i=new Uint8Array(i)),(i instanceof Int8Array||i instanceof Uint8ClampedArray||i instanceof Int16Array||i instanceof Uint16Array||i instanceof Int32Array||i instanceof Uint32Array||i instanceof Float32Array||i instanceof Float64Array)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),i instanceof Uint8Array){const t=i.byteLength,e=[];for(let n=0;n<t;n+=1)e[n>>>2]|=i[n]<<24-n%4*8;this.words=e,this.sigBytes=t}else this.words=t,this.sigBytes=e}toString(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_o).stringify(this)}concat(t){const e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(let s=0;s<r;s+=1){const t=i[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=t<<24-(n+s)%4*8}else for(let s=0;s<r;s+=4)e[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this}clamp(){const{words:t,sigBytes:e}=this;t[e>>>2]&=4294967295<<32-e%4*8,t.length=Math.ceil(e/4)}clone(){const t=super.clone.call(this);return t.words=this.words.slice(0),t}}var bo,go,mo;bo=yo,mo=po,(go=ho(go="random"))in bo?Object.defineProperty(bo,go,{value:mo,enumerable:!0,configurable:!0,writable:!0}):bo[go]=mo;const _o={stringify(t){const{words:e,sigBytes:i}=t,n=[];for(let r=0;r<i;r+=1){const t=e[r>>>2]>>>24-r%4*8&255;n.push((t>>>4).toString(16)),n.push((15&t).toString(16))}return n.join("")},parse(t){const e=t.length,i=[];for(let n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new yo(i,e/2)}},vo={stringify(t){const{words:e,sigBytes:i}=t,n=[];for(let r=0;r<i;r+=1){const t=e[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(t))}return n.join("")},parse(t){const e=t.length,i=[];for(let n=0;n<e;n+=1)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new yo(i,e)}},wo={stringify(t){try{return decodeURIComponent(escape(vo.stringify(t)))}catch(bo){throw new Error("Malformed UTF-8 data")}},parse:t=>vo.parse(unescape(encodeURIComponent(t)))};class So extends fo{constructor(){super(),this._minBufferSize=0}reset(){this._data=new yo,this._nDataBytes=0}_append(t){let e=t;"string"===typeof e&&(e=wo.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(t){let e;const{_data:i,blockSize:n}=this,r=i.words,s=i.sigBytes;let o=s/(4*n);o=t?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0);const a=o*n,c=Math.min(4*a,s);if(a){for(let t=0;t<a;t+=n)this._doProcessBlock(r,t);e=r.splice(0,a),i.sigBytes-=c}return new yo(e,c)}clone(){const t=super.clone.call(this);return t._data=this._data.clone(),t}}class Io extends So{constructor(t){super(),this.blockSize=16,this.cfg=Object.assign(new fo,t),this.reset()}static _createHelper(t){return(e,i)=>new t(i).finalize(e)}static _createHmacHelper(t){return(e,i)=>new Bo(t,i).finalize(e)}reset(){super.reset.call(this),this._doReset()}update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t);return this._doFinalize()}}class Bo extends fo{constructor(t,e){super();const i=new t;this._hasher=i;let n=e;"string"===typeof n&&(n=wo.parse(n));const r=i.blockSize,s=4*r;n.sigBytes>s&&(n=i.finalize(e)),n.clamp();const o=n.clone();this._oKey=o;const a=n.clone();this._iKey=a;const c=o.words,l=a.words;for(let h=0;h<r;h+=1)c[h]^=1549556828,l[h]^=909522486;o.sigBytes=s,a.sigBytes=s,this.reset()}reset(){const t=this._hasher;t.reset(),t.update(this._iKey)}update(t){return this._hasher.update(t),this}finalize(t){const e=this._hasher,i=e.finalize(t);e.reset();return e.finalize(this._oKey.clone().concat(i))}}const Ao=yo;class To extends fo{constructor(t,e){super(),this.high=t,this.low=e}}class Oo extends fo{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8*t.length;super(),this.words=t,this.sigBytes=e}toX32(){const t=this.words,e=t.length,i=[];for(let n=0;n<e;n+=1){const e=t[n];i.push(e.high),i.push(e.low)}return Ao.create(i,this.sigBytes)}clone(){const t=super.clone.call(this);t.words=this.words.slice(0);const{words:e}=t,i=e.length;for(let n=0;n<i;n+=1)e[n]=e[n].clone();return t}}const Do=(t,e,i)=>{const n=[];let r=0;for(let s=0;s<e;s+=1)if(s%4){const e=i[t.charCodeAt(s-1)]<<s%4*2|i[t.charCodeAt(s)]>>>6-s%4*2;n[r>>>2]|=e<<24-r%4*8,r+=1}return yo.create(n,r)},xo={stringify(t){const{words:e,sigBytes:i}=t,n=this._map;t.clamp();const r=[];for(let o=0;o<i;o+=3){const t=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255;for(let e=0;e<4&&o+.75*e<i;e+=1)r.push(n.charAt(t>>>6*(3-e)&63))}const s=n.charAt(64);if(s)for(;r.length%4;)r.push(s);return r.join("")},parse(t){let e=t.length;const i=this._map;let n=this._reverseMap;if(!n){this._reverseMap=[],n=this._reverseMap;for(let t=0;t<i.length;t+=1)n[i.charCodeAt(t)]=t}const r=i.charAt(64);if(r){const i=t.indexOf(r);-1!==i&&(e=i)}return Do(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},Mo=[];for(let i=0;i<64;i+=1)Mo[i]=4294967296*Math.abs(Math.sin(i+1))|0;const Fo=(t,e,i,n,r,s,o)=>{const a=t+(e&i|~e&n)+r+o;return(a<<s|a>>>32-s)+e},No=(t,e,i,n,r,s,o)=>{const a=t+(e&n|i&~n)+r+o;return(a<<s|a>>>32-s)+e},Co=(t,e,i,n,r,s,o)=>{const a=t+(e^i^n)+r+o;return(a<<s|a>>>32-s)+e},Uo=(t,e,i,n,r,s,o)=>{const a=t+(i^(e|~n))+r+o;return(a<<s|a>>>32-s)+e};class ko extends Io{_doReset(){this._hash=new yo([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(t,e){const i=t;for(let B=0;B<16;B+=1){const n=e+B,r=t[n];i[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}const n=this._hash.words,r=i[e+0],s=i[e+1],o=i[e+2],a=i[e+3],c=i[e+4],l=i[e+5],h=i[e+6],u=i[e+7],d=i[e+8],p=i[e+9],f=i[e+10],y=i[e+11],b=i[e+12],g=i[e+13],m=i[e+14],_=i[e+15];let v=n[0],w=n[1],S=n[2],I=n[3];v=Fo(v,w,S,I,r,7,Mo[0]),I=Fo(I,v,w,S,s,12,Mo[1]),S=Fo(S,I,v,w,o,17,Mo[2]),w=Fo(w,S,I,v,a,22,Mo[3]),v=Fo(v,w,S,I,c,7,Mo[4]),I=Fo(I,v,w,S,l,12,Mo[5]),S=Fo(S,I,v,w,h,17,Mo[6]),w=Fo(w,S,I,v,u,22,Mo[7]),v=Fo(v,w,S,I,d,7,Mo[8]),I=Fo(I,v,w,S,p,12,Mo[9]),S=Fo(S,I,v,w,f,17,Mo[10]),w=Fo(w,S,I,v,y,22,Mo[11]),v=Fo(v,w,S,I,b,7,Mo[12]),I=Fo(I,v,w,S,g,12,Mo[13]),S=Fo(S,I,v,w,m,17,Mo[14]),w=Fo(w,S,I,v,_,22,Mo[15]),v=No(v,w,S,I,s,5,Mo[16]),I=No(I,v,w,S,h,9,Mo[17]),S=No(S,I,v,w,y,14,Mo[18]),w=No(w,S,I,v,r,20,Mo[19]),v=No(v,w,S,I,l,5,Mo[20]),I=No(I,v,w,S,f,9,Mo[21]),S=No(S,I,v,w,_,14,Mo[22]),w=No(w,S,I,v,c,20,Mo[23]),v=No(v,w,S,I,p,5,Mo[24]),I=No(I,v,w,S,m,9,Mo[25]),S=No(S,I,v,w,a,14,Mo[26]),w=No(w,S,I,v,d,20,Mo[27]),v=No(v,w,S,I,g,5,Mo[28]),I=No(I,v,w,S,o,9,Mo[29]),S=No(S,I,v,w,u,14,Mo[30]),w=No(w,S,I,v,b,20,Mo[31]),v=Co(v,w,S,I,l,4,Mo[32]),I=Co(I,v,w,S,d,11,Mo[33]),S=Co(S,I,v,w,y,16,Mo[34]),w=Co(w,S,I,v,m,23,Mo[35]),v=Co(v,w,S,I,s,4,Mo[36]),I=Co(I,v,w,S,c,11,Mo[37]),S=Co(S,I,v,w,u,16,Mo[38]),w=Co(w,S,I,v,f,23,Mo[39]),v=Co(v,w,S,I,g,4,Mo[40]),I=Co(I,v,w,S,r,11,Mo[41]),S=Co(S,I,v,w,a,16,Mo[42]),w=Co(w,S,I,v,h,23,Mo[43]),v=Co(v,w,S,I,p,4,Mo[44]),I=Co(I,v,w,S,b,11,Mo[45]),S=Co(S,I,v,w,_,16,Mo[46]),w=Co(w,S,I,v,o,23,Mo[47]),v=Uo(v,w,S,I,r,6,Mo[48]),I=Uo(I,v,w,S,u,10,Mo[49]),S=Uo(S,I,v,w,m,15,Mo[50]),w=Uo(w,S,I,v,l,21,Mo[51]),v=Uo(v,w,S,I,b,6,Mo[52]),I=Uo(I,v,w,S,a,10,Mo[53]),S=Uo(S,I,v,w,f,15,Mo[54]),w=Uo(w,S,I,v,s,21,Mo[55]),v=Uo(v,w,S,I,d,6,Mo[56]),I=Uo(I,v,w,S,_,10,Mo[57]),S=Uo(S,I,v,w,h,15,Mo[58]),w=Uo(w,S,I,v,g,21,Mo[59]),v=Uo(v,w,S,I,c,6,Mo[60]),I=Uo(I,v,w,S,y,10,Mo[61]),S=Uo(S,I,v,w,o,15,Mo[62]),w=Uo(w,S,I,v,p,21,Mo[63]),n[0]=n[0]+v|0,n[1]=n[1]+w|0,n[2]=n[2]+S|0,n[3]=n[3]+I|0}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32;const r=Math.floor(i/4294967296),s=i;e[15+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(e.length+1),this._process();const o=this._hash,a=o.words;for(let c=0;c<4;c+=1){const t=a[c];a[c]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8)}return o}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const Lo=Io._createHelper(ko),Eo=Io._createHmacHelper(ko);class Ro extends fo{constructor(t){super(),this.cfg=Object.assign(new fo,{keySize:4,hasher:ko,iterations:1},t)}compute(t,e){let i;const{cfg:n}=this,r=n.hasher.create(),s=yo.create(),o=s.words,{keySize:a,iterations:c}=n;for(;o.length<a;){i&&r.update(i),i=r.update(t).finalize(e),r.reset();for(let t=1;t<c;t+=1)i=r.finalize(i),r.reset();s.concat(i)}return s.sigBytes=4*a,s}}class zo extends So{constructor(t,e,i){super(),this.cfg=Object.assign(new fo,i),this._xformMode=t,this._key=e,this.reset()}static createEncryptor(t,e){return this.create(this._ENC_XFORM_MODE,t,e)}static createDecryptor(t,e){return this.create(this._DEC_XFORM_MODE,t,e)}static _createHelper(t){const e=t=>"string"===typeof t?qo:Jo;return{encrypt:(i,n,r)=>e(n).encrypt(t,i,n,r),decrypt:(i,n,r)=>e(n).decrypt(t,i,n,r)}}reset(){super.reset.call(this),this._doReset()}process(t){return this._append(t),this._process()}finalize(t){t&&this._append(t);return this._doFinalize()}}zo._ENC_XFORM_MODE=1,zo._DEC_XFORM_MODE=2,zo.keySize=4,zo.ivSize=4;class Po extends zo{constructor(){super(...arguments),this.blockSize=1}_doFinalize(){return this._process(!0)}}class jo extends fo{constructor(t,e){super(),this._cipher=t,this._iv=e}static createEncryptor(t,e){return this.Encryptor.create(t,e)}static createDecryptor(t,e){return this.Decryptor.create(t,e)}}function Vo(t,e,i){const n=t;let r;const s=this._iv;s?(r=s,this._iv=void 0):r=this._prevBlock;for(let o=0;o<i;o+=1)n[e+o]^=r[o]}class Ho extends jo{}Ho.Encryptor=class extends Ho{processBlock(t,e){const i=this._cipher,{blockSize:n}=i;Vo.call(this,t,e,n),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}},Ho.Decryptor=class extends Ho{processBlock(t,e){const i=this._cipher,{blockSize:n}=i,r=t.slice(e,e+n);i.decryptBlock(t,e),Vo.call(this,t,e,n),this._prevBlock=r}};const Wo={pad(t,e){const i=4*e,n=i-t.sigBytes%i,r=n<<24|n<<16|n<<8|n,s=[];for(let a=0;a<n;a+=4)s.push(r);const o=yo.create(s,n);t.concat(o)},unpad(t){const e=t,i=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=i}};class Yo extends zo{constructor(t,e,i){super(t,e,Object.assign({mode:Ho,padding:Wo},i)),this.blockSize=4}reset(){let t;super.reset.call(this);const{cfg:e}=this,{iv:i,mode:n}=e;this._xformMode===this.constructor._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode=t.call(n,this,i&&i.words),this._mode.__creator=t}_doProcessBlock(t,e){this._mode.processBlock(t,e)}_doFinalize(){let t;const{padding:e}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t}}class Ko extends fo{constructor(t){super(),this.mixIn(t)}toString(t){return(t||this.formatter).stringify(this)}}const $o={stringify(t){let e;const{ciphertext:i,salt:n}=t;return e=n?yo.create([1398893684,1701076831]).concat(n).concat(i):i,e.toString(xo)},parse(t){let e;const i=xo.parse(t),n=i.words;return 1398893684===n[0]&&1701076831===n[1]&&(e=yo.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),Ko.create({ciphertext:i,salt:e})}};class Jo extends fo{static encrypt(t,e,i,n){const r=Object.assign(new fo,this.cfg,n),s=t.createEncryptor(i,r),o=s.finalize(e),a=s.cfg;return Ko.create({ciphertext:o,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:s.blockSize,formatter:r.format})}static decrypt(t,e,i,n){let r=e;const s=Object.assign(new fo,this.cfg,n);r=this._parse(r,s.format);return t.createDecryptor(i,s).finalize(r.ciphertext)}static _parse(t,e){return"string"===typeof t?e.parse(t,this):t}}Jo.cfg=Object.assign(new fo,{format:$o});const Xo={execute(t,e,i,n,r){let s,o=n;o||(o=yo.random(8)),s=r?Ro.create({keySize:e+i,hasher:r}).compute(t,o):Ro.create({keySize:e+i}).compute(t,o);const a=yo.create(s.words.slice(e),4*i);return s.sigBytes=4*e,Ko.create({key:s,iv:a,salt:o})}};class qo extends Jo{static encrypt(t,e,i,n){const r=Object.assign(new fo,this.cfg,n),s=r.kdf.execute(i,t.keySize,t.ivSize,r.salt,r.hasher);r.iv=s.iv;const o=Jo.encrypt.call(this,t,e,s.key,r);return o.mixIn(s),o}static decrypt(t,e,i,n){let r=e;const s=Object.assign(new fo,this.cfg,n);r=this._parse(r,s.format);const o=s.kdf.execute(i,t.keySize,t.ivSize,r.salt,s.hasher);s.iv=o.iv;return Jo.decrypt.call(this,t,r,o.key,s)}}qo.cfg=Object.assign(Jo.cfg,{kdf:Xo});const Go=t=>t<<8&4278255360|t>>>8&16711935,Zo={stringify(t){const{words:e,sigBytes:i}=t,n=[];for(let r=0;r<i;r+=2){const t=e[r>>>2]>>>16-r%4*8&65535;n.push(String.fromCharCode(t))}return n.join("")},parse(t){const e=t.length,i=[];for(let n=0;n<e;n+=1)i[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return yo.create(i,2*e)}},Qo=Zo,ta={stringify(t){const{words:e,sigBytes:i}=t,n=[];for(let r=0;r<i;r+=2){const t=Go(e[r>>>2]>>>16-r%4*8&65535);n.push(String.fromCharCode(t))}return n.join("")},parse(t){const e=t.length,i=[];for(let n=0;n<e;n+=1)i[n>>>1]|=Go(t.charCodeAt(n)<<16-n%2*16);return yo.create(i,2*e)}},ea={stringify(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{words:i,sigBytes:n}=t,r=e?this._safeMap:this._map;t.clamp();const s=[];for(let a=0;a<n;a+=3){const t=(i[a>>>2]>>>24-a%4*8&255)<<16|(i[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|i[a+2>>>2]>>>24-(a+2)%4*8&255;for(let e=0;e<4&&a+.75*e<n;e+=1)s.push(r.charAt(t>>>6*(3-e)&63))}const o=r.charAt(64);if(o)for(;s.length%4;)s.push(o);return s.join("")},parse(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.length;const n=e?this._safeMap:this._map;let r=this._reverseMap;if(!r){this._reverseMap=[],r=this._reverseMap;for(let t=0;t<n.length;t+=1)r[n.charCodeAt(t)]=t}const s=n.charAt(64);if(s){const e=t.indexOf(s);-1!==e&&(i=e)}return Do(t,i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safeMap:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},ia=[];class na extends Io{_doReset(){this._hash=new yo([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(t,e){const i=this._hash.words;let n=i[0],r=i[1],s=i[2],o=i[3],a=i[4];for(let c=0;c<80;c+=1){if(c<16)ia[c]=0|t[e+c];else{const t=ia[c-3]^ia[c-8]^ia[c-14]^ia[c-16];ia[c]=t<<1|t>>>31}let i=(n<<5|n>>>27)+a+ia[c];i+=c<20?1518500249+(r&s|~r&o):c<40?1859775393+(r^s^o):c<60?(r&s|r&o|s&o)-1894007588:(r^s^o)-899497514,a=o,o=s,s=r<<30|r>>>2,r=n,n=i}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const ra=Io._createHelper(na),sa=Io._createHmacHelper(na),oa=[],aa=[],ca=t=>{const e=Math.sqrt(t);for(let i=2;i<=e;i+=1)if(!(t%i))return!1;return!0},la=t=>4294967296*(t-(0|t))|0;let ha=2,ua=0;for(;ua<64;)ca(ha)&&(ua<8&&(oa[ua]=la(ha**.5)),aa[ua]=la(ha**(1/3)),ua+=1),ha+=1;const da=[];class pa extends Io{_doReset(){this._hash=new yo(oa.slice(0))}_doProcessBlock(t,e){const i=this._hash.words;let n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],c=i[5],l=i[6],h=i[7];for(let u=0;u<64;u+=1){if(u<16)da[u]=0|t[e+u];else{const t=da[u-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,i=da[u-2],n=(i<<15|i>>>17)^(i<<13|i>>>19)^i>>>10;da[u]=e+da[u-7]+n+da[u-16]}const i=n&r^n&s^r&s,d=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),p=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&l)+aa[u]+da[u];h=l,l=c,c=a,a=o+p|0,o=s,s=r,r=n,n=p+(d+i)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0,i[5]=i[5]+c|0,i[6]=i[6]+l|0,i[7]=i[7]+h|0}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const fa=Io._createHelper(pa),ya=Io._createHmacHelper(pa);class ba extends pa{_doReset(){this._hash=new yo([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){const t=super._doFinalize.call(this);return t.sigBytes-=4,t}}const ga=pa._createHelper(ba),ma=pa._createHmacHelper(ba),_a=[new To(1116352408,3609767458),new To(1899447441,602891725),new To(3049323471,3964484399),new To(3921009573,2173295548),new To(961987163,4081628472),new To(1508970993,3053834265),new To(2453635748,2937671579),new To(2870763221,3664609560),new To(3624381080,2734883394),new To(310598401,1164996542),new To(607225278,1323610764),new To(1426881987,3590304994),new To(1925078388,4068182383),new To(2162078206,991336113),new To(2614888103,633803317),new To(3248222580,3479774868),new To(3835390401,2666613458),new To(4022224774,944711139),new To(264347078,2341262773),new To(604807628,2007800933),new To(770255983,1495990901),new To(1249150122,1856431235),new To(1555081692,3175218132),new To(1996064986,2198950837),new To(2554220882,3999719339),new To(2821834349,766784016),new To(2952996808,2566594879),new To(3210313671,3203337956),new To(3336571891,1034457026),new To(3584528711,2466948901),new To(113926993,3758326383),new To(338241895,168717936),new To(666307205,1188179964),new To(773529912,1546045734),new To(1294757372,1522805485),new To(1396182291,2643833823),new To(1695183700,2343527390),new To(1986661051,1014477480),new To(2177026350,1206759142),new To(2456956037,344077627),new To(2730485921,1290863460),new To(2820302411,3158454273),new To(3259730800,3505952657),new To(3345764771,106217008),new To(3516065817,3606008344),new To(3600352804,1432725776),new To(4094571909,1467031594),new To(275423344,851169720),new To(430227734,3100823752),new To(506948616,1363258195),new To(659060556,3750685593),new To(883997877,3785050280),new To(958139571,3318307427),new To(1322822218,3812723403),new To(1537002063,2003034995),new To(1747873779,3602036899),new To(1955562222,1575990012),new To(2024104815,1125592928),new To(2227730452,2716904306),new To(2361852424,442776044),new To(2428436474,593698344),new To(2756734187,3733110249),new To(3204031479,2999351573),new To(3329325298,3815920427),new To(3391569614,3928383900),new To(3515267271,566280711),new To(3940187606,3454069534),new To(4118630271,4000239992),new To(116418474,1914138554),new To(174292421,2731055270),new To(289380356,3203993006),new To(460393269,320620315),new To(685471733,587496836),new To(852142971,1086792851),new To(1017036298,365543100),new To(1126000580,2618297676),new To(1288033470,3409855158),new To(1501505948,4234509866),new To(1607167915,987167468),new To(1816402316,1246189591)],va=[];for(let i=0;i<80;i+=1)va[i]=new To;class wa extends Io{constructor(){super(),this.blockSize=32}_doReset(){this._hash=new Oo([new To(1779033703,4089235720),new To(3144134277,2227873595),new To(1013904242,4271175723),new To(2773480762,1595750129),new To(1359893119,2917565137),new To(2600822924,725511199),new To(528734635,4215389547),new To(1541459225,327033209)])}_doProcessBlock(t,e){const i=this._hash.words,n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],c=i[5],l=i[6],h=i[7],u=n.high;let d=n.low;const p=r.high;let f=r.low;const y=s.high;let b=s.low;const g=o.high;let m=o.low;const _=a.high;let v=a.low;const w=c.high;let S=c.low;const I=l.high;let B=l.low;const A=h.high;let T=h.low,O=u,D=d,x=p,M=f,F=y,N=b,C=g,U=m,k=_,L=v,E=w,R=S,z=I,P=B,j=A,V=T;for(let H=0;H<80;H+=1){let i,n;const r=va[H];if(H<16)r.high=0|t[e+2*H],n=r.high,r.low=0|t[e+2*H+1],i=r.low;else{const t=va[H-15],e=t.high,s=t.low,o=(e>>>1|s<<31)^(e>>>8|s<<24)^e>>>7,a=(s>>>1|e<<31)^(s>>>8|e<<24)^(s>>>7|e<<25),c=va[H-2],l=c.high,h=c.low,u=(l>>>19|h<<13)^(l<<3|h>>>29)^l>>>6,d=(h>>>19|l<<13)^(h<<3|l>>>29)^(h>>>6|l<<26),p=va[H-7],f=p.high,y=p.low,b=va[H-16],g=b.high,m=b.low;i=a+y,n=o+f+(i>>>0<a>>>0?1:0),i+=d,n=n+u+(i>>>0<d>>>0?1:0),i+=m,n=n+g+(i>>>0<m>>>0?1:0),r.high=n,r.low=i}const s=k&E^~k&z,o=L&R^~L&P,a=O&x^O&F^x&F,c=D&M^D&N^M&N,l=(O>>>28|D<<4)^(O<<30|D>>>2)^(O<<25|D>>>7),h=(D>>>28|O<<4)^(D<<30|O>>>2)^(D<<25|O>>>7),u=(k>>>14|L<<18)^(k>>>18|L<<14)^(k<<23|L>>>9),d=(L>>>14|k<<18)^(L>>>18|k<<14)^(L<<23|k>>>9),p=_a[H],f=p.high,y=p.low;let b=V+d,g=j+u+(b>>>0<V>>>0?1:0);b+=o,g=g+s+(b>>>0<o>>>0?1:0),b+=y,g=g+f+(b>>>0<y>>>0?1:0),b+=i,g=g+n+(b>>>0<i>>>0?1:0);const m=h+c;j=z,V=P,z=E,P=R,E=k,R=L,L=U+b|0,k=C+g+(L>>>0<U>>>0?1:0)|0,C=F,U=N,F=x,N=M,x=O,M=D,D=b+m|0,O=g+(l+a+(m>>>0<h>>>0?1:0))+(D>>>0<b>>>0?1:0)|0}n.low=d+D,d=n.low,n.high=u+O+(d>>>0<D>>>0?1:0),r.low=f+M,f=r.low,r.high=p+x+(f>>>0<M>>>0?1:0),s.low=b+N,b=s.low,s.high=y+F+(b>>>0<N>>>0?1:0),o.low=m+U,m=o.low,o.high=g+C+(m>>>0<U>>>0?1:0),a.low=v+L,v=a.low,a.high=_+k+(v>>>0<L>>>0?1:0),c.low=S+R,S=c.low,c.high=w+E+(S>>>0<R>>>0?1:0),l.low=B+P,B=l.low,l.high=I+z+(B>>>0<P>>>0?1:0),h.low=T+V,T=h.low,h.high=A+j+(T>>>0<V>>>0?1:0)}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(n+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process();return this._hash.toX32()}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const Sa=Io._createHelper(wa),Ia=Io._createHmacHelper(wa);class Ba extends wa{_doReset(){this._hash=new Oo([new To(3418070365,3238371032),new To(1654270250,914150663),new To(2438529370,812702999),new To(355462360,4144912697),new To(1731405415,4290775857),new To(2394180231,1750603025),new To(3675008525,1694076839),new To(1203062813,3204075428)])}_doFinalize(){const t=super._doFinalize.call(this);return t.sigBytes-=16,t}}const Aa=wa._createHelper(Ba),Ta=wa._createHmacHelper(Ba),Oa=[],Da=[],xa=[];let Ma=1,Fa=0;for(let i=0;i<24;i+=1){Oa[Ma+5*Fa]=(i+1)*(i+2)/2%64;const t=(2*Ma+3*Fa)%5;Ma=Fa%5,Fa=t}for(let i=0;i<5;i+=1)for(let t=0;t<5;t+=1)Da[i+5*t]=t+(2*i+3*t)%5*5;let Na=1;for(let i=0;i<24;i+=1){let t=0,e=0;for(let i=0;i<7;i+=1){if(1&Na){const n=(1<<i)-1;n<32?e^=1<<n:t^=1<<n-32}128&Na?Na=Na<<1^113:Na<<=1}xa[i]=To.create(t,e)}const Ca=[];for(let i=0;i<25;i+=1)Ca[i]=To.create();class Ua extends Io{constructor(t){super(Object.assign({outputLength:512},t))}_doReset(){this._state=[];const t=this._state;for(let e=0;e<25;e+=1)t[e]=new To;this.blockSize=(1600-2*this.cfg.outputLength)/32}_doProcessBlock(t,e){const i=this._state,n=this.blockSize/2;for(let r=0;r<n;r+=1){let n=t[e+2*r],s=t[e+2*r+1];n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);const o=i[r];o.high^=s,o.low^=n}for(let r=0;r<24;r+=1){for(let r=0;r<5;r+=1){let t=0,e=0;for(let s=0;s<5;s+=1){const n=i[r+5*s];t^=n.high,e^=n.low}const n=Ca[r];n.high=t,n.low=e}for(let r=0;r<5;r+=1){const t=Ca[(r+4)%5],e=Ca[(r+1)%5],n=e.high,s=e.low,o=t.high^(n<<1|s>>>31),a=t.low^(s<<1|n>>>31);for(let c=0;c<5;c+=1){const t=i[r+5*c];t.high^=o,t.low^=a}}for(let r=1;r<25;r+=1){let t,e;const n=i[r],s=n.high,o=n.low,a=Oa[r];a<32?(t=s<<a|o>>>32-a,e=o<<a|s>>>32-a):(t=o<<a-32|s>>>64-a,e=s<<a-32|o>>>64-a);const c=Ca[Da[r]];c.high=t,c.low=e}const t=Ca[0],e=i[0];t.high=e.high,t.low=e.low;for(let r=0;r<5;r+=1)for(let t=0;t<5;t+=1){const e=r+5*t,n=i[e],s=Ca[e],o=Ca[(r+1)%5+5*t],a=Ca[(r+2)%5+5*t];n.high=s.high^~o.high&a.high,n.low=s.low^~o.low&a.low}const n=i[0],s=xa[r];n.high^=s.high,n.low^=s.low}}_doFinalize(){const t=this._data,e=t.words,i=8*t.sigBytes,n=32*this.blockSize;e[i>>>5]|=1<<24-i%32,e[(Math.ceil((i+1)/n)*n>>>5)-1]|=128,t.sigBytes=4*e.length,this._process();const r=this._state,s=this.cfg.outputLength/8,o=s/8,a=[];for(let c=0;c<o;c+=1){const t=r[c];let e=t.high,i=t.low;e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a.push(i),a.push(e)}return new yo(a,s)}clone(){const t=super.clone.call(this);t._state=this._state.slice(0);const e=t._state;for(let i=0;i<25;i+=1)e[i]=e[i].clone();return t}}const ka=Io._createHelper(Ua),La=Io._createHmacHelper(Ua),Ea=yo.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ra=yo.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),za=yo.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Pa=yo.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),ja=yo.create([0,1518500249,1859775393,2400959708,2840853838]),Va=yo.create([1352829926,1548603684,1836072691,2053994217,0]),Ha=(t,e,i)=>t^e^i,Wa=(t,e,i)=>t&e|~t&i,Ya=(t,e,i)=>(t|~e)^i,Ka=(t,e,i)=>t&i|e&~i,$a=(t,e,i)=>t^(e|~i),Ja=(t,e)=>t<<e|t>>>32-e;class Xa extends Io{_doReset(){this._hash=yo.create([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(t,e){const i=t;for(let w=0;w<16;w+=1){const t=e+w,n=i[t];i[t]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}const n=this._hash.words,r=ja.words,s=Va.words,o=Ea.words,a=Ra.words,c=za.words,l=Pa.words;let h,u=n[0],d=n[1],p=n[2],f=n[3],y=n[4],b=n[0],g=n[1],m=n[2],_=n[3],v=n[4];for(let w=0;w<80;w+=1)h=u+i[e+o[w]]|0,h+=w<16?Ha(d,p,f)+r[0]:w<32?Wa(d,p,f)+r[1]:w<48?Ya(d,p,f)+r[2]:w<64?Ka(d,p,f)+r[3]:$a(d,p,f)+r[4],h|=0,h=Ja(h,c[w]),h=h+y|0,u=y,y=f,f=Ja(p,10),p=d,d=h,h=b+i[e+a[w]]|0,h+=w<16?$a(g,m,_)+s[0]:w<32?Ka(g,m,_)+s[1]:w<48?Ya(g,m,_)+s[2]:w<64?Wa(g,m,_)+s[3]:Ha(g,m,_)+s[4],h|=0,h=Ja(h,l[w]),h=h+v|0,b=v,v=_,_=Ja(m,10),m=g,g=h;h=n[1]+p+_|0,n[1]=n[2]+f+v|0,n[2]=n[3]+y+b|0,n[3]=n[4]+u+g|0,n[4]=n[0]+d+m|0,n[0]=h}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();const r=this._hash,s=r.words;for(let o=0;o<5;o+=1){const t=s[o];s[o]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8)}return r}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const qa=Io._createHelper(Xa),Ga=Io._createHmacHelper(Xa);class Za extends fo{constructor(t){super(),this.cfg=Object.assign(new fo,{keySize:4,hasher:pa,iterations:25e4},t)}compute(t,e){const{cfg:i}=this,n=Bo.create(i.hasher,t),r=yo.create(),s=yo.create([1]),o=r.words,a=s.words,{keySize:c,iterations:l}=i;for(;o.length<c;){const t=n.update(e).finalize(s);n.reset();const i=t.words,o=i.length;let c=t;for(let e=1;e<l;e+=1){c=n.finalize(c),n.reset();const t=c.words;for(let e=0;e<o;e+=1)i[e]^=t[e]}r.concat(t),a[0]+=1}return r.sigBytes=4*c,r}}const Qa=[],tc=[],ec=[],ic=[],nc=[],rc=[],sc=[],oc=[],ac=[],cc=[],lc=[];for(let i=0;i<256;i+=1)lc[i]=i<128?i<<1:i<<1^283;let hc=0,uc=0;for(let i=0;i<256;i+=1){let t=uc^uc<<1^uc<<2^uc<<3^uc<<4;t=t>>>8^255&t^99,Qa[hc]=t,tc[t]=hc;const e=lc[hc],i=lc[e],n=lc[i];let r=257*lc[t]^16843008*t;ec[hc]=r<<24|r>>>8,ic[hc]=r<<16|r>>>16,nc[hc]=r<<8|r>>>24,rc[hc]=r,r=16843009*n^65537*i^257*e^16843008*hc,sc[t]=r<<24|r>>>8,oc[t]=r<<16|r>>>16,ac[t]=r<<8|r>>>24,cc[t]=r,hc?(hc=e^lc[lc[lc[n^e]]],uc^=lc[lc[uc]]):(uc=1,hc=uc)}const dc=[0,1,2,4,8,16,32,64,128,27,54];class pc extends Yo{_doReset(){let t;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const e=this._keyPriorReset,i=e.words,n=e.sigBytes/4;this._nRounds=n+6;const r=4*(this._nRounds+1);this._keySchedule=[];const s=this._keySchedule;for(let a=0;a<r;a+=1)a<n?s[a]=i[a]:(t=s[a-1],a%n?n>6&&a%n===4&&(t=Qa[t>>>24]<<24|Qa[t>>>16&255]<<16|Qa[t>>>8&255]<<8|Qa[255&t]):(t=t<<8|t>>>24,t=Qa[t>>>24]<<24|Qa[t>>>16&255]<<16|Qa[t>>>8&255]<<8|Qa[255&t],t^=dc[a/n|0]<<24),s[a]=s[a-n]^t);this._invKeySchedule=[];const o=this._invKeySchedule;for(let a=0;a<r;a+=1){const e=r-a;t=a%4?s[e]:s[e-4],o[a]=a<4||e<=4?t:sc[Qa[t>>>24]]^oc[Qa[t>>>16&255]]^ac[Qa[t>>>8&255]]^cc[Qa[255&t]]}}encryptBlock(t,e){this._doCryptBlock(t,e,this._keySchedule,ec,ic,nc,rc,Qa)}decryptBlock(t,e){const i=t;let n=i[e+1];i[e+1]=i[e+3],i[e+3]=n,this._doCryptBlock(i,e,this._invKeySchedule,sc,oc,ac,cc,tc),n=i[e+1],i[e+1]=i[e+3],i[e+3]=n}_doCryptBlock(t,e,i,n,r,s,o,a){const c=t,l=this._nRounds;let h=c[e]^i[0],u=c[e+1]^i[1],d=c[e+2]^i[2],p=c[e+3]^i[3],f=4;for(let _=1;_<l;_+=1){const t=n[h>>>24]^r[u>>>16&255]^s[d>>>8&255]^o[255&p]^i[f];f+=1;const e=n[u>>>24]^r[d>>>16&255]^s[p>>>8&255]^o[255&h]^i[f];f+=1;const a=n[d>>>24]^r[p>>>16&255]^s[h>>>8&255]^o[255&u]^i[f];f+=1;const c=n[p>>>24]^r[h>>>16&255]^s[u>>>8&255]^o[255&d]^i[f];f+=1,h=t,u=e,d=a,p=c}const y=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&p])^i[f];f+=1;const b=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[p>>>8&255]<<8|a[255&h])^i[f];f+=1;const g=(a[d>>>24]<<24|a[p>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^i[f];f+=1;const m=(a[p>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[f];f+=1,c[e]=y,c[e+1]=b,c[e+2]=g,c[e+3]=m}}pc.keySize=8;const fc=Yo._createHelper(pc),yc=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],bc=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],gc=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],mc=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function vc(t,e){const i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function wc(t,e){const i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}class Sc extends Yo{constructor(t,e,i){super(t,e,i),this.blockSize=2}_doReset(){const t=this._key.words,e=[];for(let r=0;r<56;r+=1){const i=yc[r]-1;e[r]=t[i>>>5]>>>31-i%32&1}this._subKeys=[];const i=this._subKeys;for(let r=0;r<16;r+=1){i[r]=[];const t=i[r],n=gc[r];for(let i=0;i<24;i+=1)t[i/6|0]|=e[(bc[i]-1+n)%28]<<31-i%6,t[4+(i/6|0)]|=e[28+(bc[i+24]-1+n)%28]<<31-i%6;t[0]=t[0]<<1|t[0]>>>31;for(let e=1;e<7;e+=1)t[e]>>>=4*(e-1)+3;t[7]=t[7]<<5|t[7]>>>27}this._invSubKeys=[];const n=this._invSubKeys;for(let r=0;r<16;r+=1)n[r]=i[15-r]}encryptBlock(t,e){this._doCryptBlock(t,e,this._subKeys)}decryptBlock(t,e){this._doCryptBlock(t,e,this._invSubKeys)}_doCryptBlock(t,e,i){const n=t;this._lBlock=t[e],this._rBlock=t[e+1],vc.call(this,4,252645135),vc.call(this,16,65535),wc.call(this,2,858993459),wc.call(this,8,16711935),vc.call(this,1,1431655765);for(let s=0;s<16;s+=1){const t=i[s],e=this._lBlock,n=this._rBlock;let r=0;for(let i=0;i<8;i+=1)r|=mc[i][((n^t[i])&_c[i])>>>0];this._lBlock=n,this._rBlock=e^r}const r=this._lBlock;this._lBlock=this._rBlock,this._rBlock=r,vc.call(this,1,1431655765),wc.call(this,8,16711935),wc.call(this,2,858993459),vc.call(this,16,65535),vc.call(this,4,252645135),n[e]=this._lBlock,n[e+1]=this._rBlock}}Sc.keySize=2,Sc.ivSize=2;const Ic=Yo._createHelper(Sc);class Bc extends Yo{_doReset(){const t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");const e=t.slice(0,2),i=t.length<4?t.slice(0,2):t.slice(2,4),n=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=Sc.createEncryptor(yo.create(e)),this._des2=Sc.createEncryptor(yo.create(i)),this._des3=Sc.createEncryptor(yo.create(n))}encryptBlock(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)}decryptBlock(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)}}Bc.keySize=6,Bc.ivSize=2;const Ac=Yo._createHelper(Bc),Tc=[],Oc=[],Dc=[];function xc(){const t=this._X,e=this._C;for(let i=0;i<8;i+=1)Oc[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<Oc[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<Oc[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<Oc[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<Oc[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<Oc[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<Oc[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<Oc[6]>>>0?1:0)|0,this._b=e[7]>>>0<Oc[7]>>>0?1:0;for(let i=0;i<8;i+=1){const n=t[i]+e[i],r=65535&n,s=n>>>16,o=((r*r>>>17)+r*s>>>15)+s*s,a=((4294901760&n)*n|0)+((65535&n)*n|0);Dc[i]=o^a}t[0]=Dc[0]+(Dc[7]<<16|Dc[7]>>>16)+(Dc[6]<<16|Dc[6]>>>16)|0,t[1]=Dc[1]+(Dc[0]<<8|Dc[0]>>>24)+Dc[7]|0,t[2]=Dc[2]+(Dc[1]<<16|Dc[1]>>>16)+(Dc[0]<<16|Dc[0]>>>16)|0,t[3]=Dc[3]+(Dc[2]<<8|Dc[2]>>>24)+Dc[1]|0,t[4]=Dc[4]+(Dc[3]<<16|Dc[3]>>>16)+(Dc[2]<<16|Dc[2]>>>16)|0,t[5]=Dc[5]+(Dc[4]<<8|Dc[4]>>>24)+Dc[3]|0,t[6]=Dc[6]+(Dc[5]<<16|Dc[5]>>>16)+(Dc[4]<<16|Dc[4]>>>16)|0,t[7]=Dc[7]+(Dc[6]<<8|Dc[6]>>>24)+Dc[5]|0}class Mc extends Po{constructor(){super(...arguments),this.blockSize=4,this.ivSize=2}_doReset(){const t=this._key.words,{iv:e}=this.cfg;for(let r=0;r<4;r+=1)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16];const i=this._X;this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];const n=this._C;this._b=0;for(let r=0;r<4;r+=1)xc.call(this);for(let r=0;r<8;r+=1)n[r]^=i[r+4&7];if(e){const t=e.words,i=t[0],r=t[1],s=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),a=s>>>16|4294901760&o,c=o<<16|65535&s;n[0]^=s,n[1]^=a,n[2]^=o,n[3]^=c,n[4]^=s,n[5]^=a,n[6]^=o,n[7]^=c;for(let e=0;e<4;e+=1)xc.call(this)}}_doProcessBlock(t,e){const i=t,n=this._X;xc.call(this),Tc[0]=n[0]^n[5]>>>16^n[3]<<16,Tc[1]=n[2]^n[7]>>>16^n[5]<<16,Tc[2]=n[4]^n[1]>>>16^n[7]<<16,Tc[3]=n[6]^n[3]>>>16^n[1]<<16;for(let r=0;r<4;r+=1)Tc[r]=16711935&(Tc[r]<<8|Tc[r]>>>24)|4278255360&(Tc[r]<<24|Tc[r]>>>8),i[e+r]^=Tc[r]}}const Fc=Po._createHelper(Mc),Nc=[],Cc=[],Uc=[];function kc(){const t=this._X,e=this._C;for(let i=0;i<8;i+=1)Cc[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<Cc[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<Cc[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<Cc[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<Cc[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<Cc[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<Cc[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<Cc[6]>>>0?1:0)|0,this._b=e[7]>>>0<Cc[7]>>>0?1:0;for(let i=0;i<8;i+=1){const n=t[i]+e[i],r=65535&n,s=n>>>16,o=((r*r>>>17)+r*s>>>15)+s*s,a=((4294901760&n)*n|0)+((65535&n)*n|0);Uc[i]=o^a}t[0]=Uc[0]+(Uc[7]<<16|Uc[7]>>>16)+(Uc[6]<<16|Uc[6]>>>16)|0,t[1]=Uc[1]+(Uc[0]<<8|Uc[0]>>>24)+Uc[7]|0,t[2]=Uc[2]+(Uc[1]<<16|Uc[1]>>>16)+(Uc[0]<<16|Uc[0]>>>16)|0,t[3]=Uc[3]+(Uc[2]<<8|Uc[2]>>>24)+Uc[1]|0,t[4]=Uc[4]+(Uc[3]<<16|Uc[3]>>>16)+(Uc[2]<<16|Uc[2]>>>16)|0,t[5]=Uc[5]+(Uc[4]<<8|Uc[4]>>>24)+Uc[3]|0,t[6]=Uc[6]+(Uc[5]<<16|Uc[5]>>>16)+(Uc[4]<<16|Uc[4]>>>16)|0,t[7]=Uc[7]+(Uc[6]<<8|Uc[6]>>>24)+Uc[5]|0}class Lc extends Po{constructor(){super(...arguments),this.blockSize=4,this.ivSize=2}_doReset(){const t=this._key.words,{iv:e}=this.cfg;this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16];const i=this._X;this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];const n=this._C;this._b=0;for(let r=0;r<4;r+=1)kc.call(this);for(let r=0;r<8;r+=1)n[r]^=i[r+4&7];if(e){const t=e.words,i=t[0],r=t[1],s=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),a=s>>>16|4294901760&o,c=o<<16|65535&s;n[0]^=s,n[1]^=a,n[2]^=o,n[3]^=c,n[4]^=s,n[5]^=a,n[6]^=o,n[7]^=c;for(let e=0;e<4;e+=1)kc.call(this)}}_doProcessBlock(t,e){const i=t,n=this._X;kc.call(this),Nc[0]=n[0]^n[5]>>>16^n[3]<<16,Nc[1]=n[2]^n[7]>>>16^n[5]<<16,Nc[2]=n[4]^n[1]>>>16^n[7]<<16,Nc[3]=n[6]^n[3]>>>16^n[1]<<16;for(let r=0;r<4;r+=1)Nc[r]=16711935&(Nc[r]<<8|Nc[r]>>>24)|4278255360&(Nc[r]<<24|Nc[r]>>>8),i[e+r]^=Nc[r]}}const Ec=Po._createHelper(Lc);function Rc(){const t=this._S;let e=this._i,i=this._j,n=0;for(let r=0;r<4;r+=1){e=(e+1)%256,i=(i+t[e])%256;const s=t[e];t[e]=t[i],t[i]=s,n|=t[(t[e]+t[i])%256]<<24-8*r}return this._i=e,this._j=i,n}class zc extends Po{_doReset(){const t=this._key,e=t.words,i=t.sigBytes;this._S=[];const n=this._S;for(let r=0;r<256;r+=1)n[r]=r;for(let r=0,s=0;r<256;r+=1){const t=r%i,o=e[t>>>2]>>>24-t%4*8&255;s=(s+n[r]+o)%256;const a=n[r];n[r]=n[s],n[s]=a}this._j=0,this._i=this._j}_doProcessBlock(t,e){t[e]^=Rc.call(this)}}zc.keySize=8,zc.ivSize=0;const Pc=Po._createHelper(zc);class jc extends zc{constructor(){super(...arguments),Object.assign(this.cfg,{drop:192})}_doReset(){super._doReset.call(this);for(let t=this.cfg.drop;t>0;t-=1)Rc.call(this)}}const Vc=Po._createHelper(jc),Hc=16,Wc=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Yc=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Kc={pbox:[],sbox:[]};function $c(t,e){const i=e>>24&255,n=e>>16&255,r=e>>8&255,s=255&e;let o=t.sbox[0][i]+t.sbox[1][n];return o^=t.sbox[2][r],o+=t.sbox[3][s],o}function Jc(t,e,i){let n,r=e,s=i;for(let o=0;o<Hc;++o)r^=t.pbox[o],s=$c(t,r)^s,n=r,r=s,s=n;return n=r,r=s,s=n,s^=t.pbox[Hc],r^=t.pbox[Hc+1],{left:r,right:s}}class Xc extends Yo{constructor(t,e,i){super(t,e,i),this.blockSize=2}_doReset(){if(this._keyPriorReset===this._key)return;const t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4;!function(t,e,i){for(let a=0;a<4;a++){t.sbox[a]=[];for(let e=0;e<256;e++)t.sbox[a][e]=Yc[a][e]}let n=0;for(let a=0;a<Hc+2;a++)t.pbox[a]=Wc[a]^e[n],n++,n>=i&&(n=0);let r=0,s=0,o=0;for(let a=0;a<Hc+2;a+=2)o=Jc(t,r,s),r=o.left,s=o.right,t.pbox[a]=r,t.pbox[a+1]=s;for(let a=0;a<4;a++)for(let e=0;e<256;e+=2)o=Jc(t,r,s),r=o.left,s=o.right,t.sbox[a][e]=r,t.sbox[a][e+1]=s}(Kc,e,i)}encryptBlock(t,e){const i=Jc(Kc,t[e],t[e+1]);t[e]=i.left,t[e+1]=i.right}decryptBlock(t,e){const i=function(t,e,i){let n,r=e,s=i;for(let o=Hc+1;o>1;--o)r^=t.pbox[o],s=$c(t,r)^s,n=r,r=s,s=n;return n=r,r=s,s=n,s^=t.pbox[1],r^=t.pbox[0],{left:r,right:s}}(Kc,t[e],t[e+1]);t[e]=i.left,t[e+1]=i.right}}Xc.keySize=4,Xc.ivSize=2;const qc=Yo._createHelper(Xc);function Gc(t,e,i,n){const r=t;let s;const o=this._iv;o?(s=o.slice(0),this._iv=void 0):s=this._prevBlock,n.encryptBlock(s,0);for(let a=0;a<i;a+=1)r[e+a]^=s[a]}class Zc extends jo{}Zc.Encryptor=class extends Zc{processBlock(t,e){const i=this._cipher,{blockSize:n}=i;Gc.call(this,t,e,n,i),this._prevBlock=t.slice(e,e+n)}},Zc.Decryptor=class extends Zc{processBlock(t,e){const i=this._cipher,{blockSize:n}=i,r=t.slice(e,e+n);Gc.call(this,t,e,n,i),this._prevBlock=r}};class Qc extends jo{}Qc.Encryptor=class extends Qc{processBlock(t,e){const i=t,n=this._cipher,{blockSize:r}=n,s=this._iv;let o=this._counter;s&&(this._counter=s.slice(0),o=this._counter,this._iv=void 0);const a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(let c=0;c<r;c+=1)i[e+c]^=a[c]}},Qc.Decryptor=Qc.Encryptor;const tl=t=>{let e=t;if(255===(t>>24&255)){let i=t>>16&255,n=t>>8&255,r=255&t;255===i?(i=0,255===n?(n=0,255===r?r=0:r+=1):n+=1):i+=1,e=0,e+=i<<16,e+=n<<8,e+=r}else e+=1<<24;return e};class el extends jo{}el.Encryptor=class extends el{processBlock(t,e){const i=t,n=this._cipher,{blockSize:r}=n,s=this._iv;let o=this._counter;s&&(this._counter=s.slice(0),o=this._counter,this._iv=void 0),(t=>{const e=t;e[0]=tl(e[0]),0===e[0]&&(e[1]=tl(e[1]))})(o);const a=o.slice(0);n.encryptBlock(a,0);for(let c=0;c<r;c+=1)i[e+c]^=a[c]}},el.Decryptor=el.Encryptor;class il extends jo{}il.Encryptor=class extends il{processBlock(t,e){this._cipher.encryptBlock(t,e)}},il.Decryptor=class extends il{processBlock(t,e){this._cipher.decryptBlock(t,e)}};class nl extends jo{}nl.Encryptor=class extends nl{processBlock(t,e){const i=t,n=this._cipher,{blockSize:r}=n,s=this._iv;let o=this._keystream;s&&(this._keystream=s.slice(0),o=this._keystream,this._iv=void 0),n.encryptBlock(o,0);for(let a=0;a<r;a+=1)i[e+a]^=o[a]}},nl.Decryptor=nl.Encryptor;const rl={pad(t,e){const i=t,n=i.sigBytes,r=4*e,s=r-n%r,o=n+s-1;i.clamp(),i.words[o>>>2]|=s<<24-o%4*8,i.sigBytes+=s},unpad(t){const e=t,i=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=i}},sl={pad(t,e){const i=4*e,n=i-t.sigBytes%i;t.concat(yo.random(n-1)).concat(yo.create([n<<24],1))},unpad(t){const e=t,i=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=i}},ol={pad(t,e){const i=t,n=4*e;i.clamp(),i.sigBytes+=n-(t.sigBytes%n||n)},unpad(t){const e=t,i=e.words;for(let n=e.sigBytes-1;n>=0;n-=1)if(i[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},al={pad(t,e){t.concat(yo.create([2147483648],1)),ol.pad(t,e)},unpad(t){const e=t;ol.unpad(e),e.sigBytes-=1}},cl={pad(){},unpad(){}},ll={stringify:t=>t.ciphertext.toString(_o),parse(t){const e=_o.parse(t);return Ko.create({ciphertext:e})}},hl={lib:{Base:fo,WordArray:yo,BufferedBlockAlgorithm:So,Hasher:Io,Cipher:zo,StreamCipher:Po,BlockCipherMode:jo,BlockCipher:Yo,CipherParams:Ko,SerializableCipher:Jo,PasswordBasedCipher:qo},x64:{Word:To,WordArray:Oo},enc:{Hex:_o,Latin1:vo,Utf8:wo,Utf16:Qo,Utf16BE:Zo,Utf16LE:ta,Base64:xo,Base64url:ea},algo:{HMAC:Bo,MD5:ko,SHA1:na,SHA224:ba,SHA256:pa,SHA384:Ba,SHA512:wa,SHA3:Ua,RIPEMD160:Xa,PBKDF2:Za,EvpKDF:Ro,AES:pc,DES:Sc,TripleDES:Bc,Rabbit:Mc,RabbitLegacy:Lc,RC4:zc,RC4Drop:jc,Blowfish:Xc},mode:{CBC:Ho,CFB:Zc,CTR:Qc,CTRGladman:el,ECB:il,OFB:nl},pad:{Pkcs7:Wo,AnsiX923:rl,Iso10126:sl,Iso97971:al,NoPadding:cl,ZeroPadding:ol},format:{OpenSSL:$o,Hex:ll},kdf:{OpenSSL:Xo},MD5:Lo,HmacMD5:Eo,SHA1:ra,HmacSHA1:sa,SHA224:ga,HmacSHA224:ma,SHA256:fa,HmacSHA256:ya,SHA384:Aa,HmacSHA384:Ta,SHA512:Sa,HmacSHA512:Ia,SHA3:ka,HmacSHA3:La,RIPEMD160:qa,HmacRIPEMD160:Ga,PBKDF2:(t,e,i)=>Za.create(i).compute(t,e),EvpKDF:(t,e,i)=>Ro.create(i).compute(t,e),AES:fc,DES:Ic,TripleDES:Ac,Rabbit:Fc,RabbitLegacy:Ec,RC4:Pc,RC4Drop:Vc,Blowfish:qc};eo.events.addEventListener(eo.RENDER_EVENT,(async function(t){const e=t.detail;let i=e.args.action,n=e.args.deck,r=e.args.image,s=e.args.Text,o=e.args.Extra,a=e.args.tags,c=e.args.flashcards;try{switch(i){case"reqPerm":await async function(){try{const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"requestPermission",version:6})});return(await t.json()).result.permission}catch(t){return!1}}();const t=await async function(){try{const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"modelNames",version:6})});if(!(await t.json()).result.includes("Anking")){const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"createModel",version:6,params:{modelName:"Anking",inOrderFields:["Front","Back"],isCloze:!1,cardTemplates:[{Name:"Cloze",Text:"{{cloze:Front}}",Extra:"{{FrontSide}}\n\n<hr id=answer>\n\n{{Back}}<br><br>\n\nTags: {{Tags}}"}]}})});return(await t.json()).result}}catch(t){return!1}}();eo.setComponentValue(t);break;case"addCard":const e=await async function(t,e,i,n){try{const r={deckName:t,modelName:"Anking",fields:{Text:e,Extra:i},options:{allowDuplicate:!1},tags:[n]},s=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"addNote",params:{note:r},version:6})});return(await s.json()).result}catch(r){throw new Error("Error: Unable to reach the server")}}(n,s,o,a);eo.setComponentValue(e);break;case"addNotes":const i=await async function(t,e){try{const i=await Promise.all(e.map((async e=>{let i={deckName:t,modelName:"Anking",fields:{Text:e.front,Extra:e.back},options:{allowDuplicate:!1},tags:e.tags,picture:void 0};if(e.image){let t=(new TextDecoder).decode(e.image),n=Date.now(),r=hl.SHA256(n.toString()).toString();i.picture=[{data:t,filename:"pdf-anki-"+r+".jpg",fields:["Back"]}]}return i}))),n=await fetch("http://localhost:8765",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"addNotes",version:6,params:{notes:i}})}),r=await n.json();if(r.error)throw new Error(r.error);return r.result}catch(i){throw new Error("Error: Unable to reach the server")}}(n,c);eo.setComponentValue(i);break;case"addCardWithImage":const l=await async function(t,e,i,n,r){let s=(new TextDecoder).decode(e),o=Date.now(),a=hl.SHA256(o.toString());try{const e={deckName:t,modelName:"Anking",fields:{Text:i,Extra:n},options:{allowDuplicate:!1},tags:[r],picture:[{data:s,filename:"pdf-anki-"+a+".jpg",fields:["Back"]}]},o=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"addNote",params:{note:e},version:6})});return(await o.json()).result}catch(c){throw new Error("Error: Unable to reach the server")}}(n,r,s,o,a);eo.setComponentValue(l);break;case"getDecks":const h=await async function(){try{const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"deckNames",version:6})});return(await t.json()).result}catch(t){return!1}}();eo.setComponentValue(h)}}catch(l){eo.setComponentValue("Error")}eo.setFrameHeight()})),eo.setComponentReady(),eo.setFrameHeight()})()})();
//# sourceMappingURL=main.7480da07.js.map